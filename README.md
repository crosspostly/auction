# VK –ê—É–∫—Ü–∏–æ–Ω–Ω—ã–π –ë–æ—Ç (v3.0 - Stable)

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –∞—É–∫—Ü–∏–æ–Ω–æ–≤ –≤–æ –í–ö–æ–Ω—Ç–∞–∫—Ç–µ.  
**–ì–ª–∞–≤–Ω—ã–π –ø—Ä–∏–Ω—Ü–∏–ø:** –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å, —á–µ—Å—Ç–Ω–æ—Å—Ç—å –≤—Ä–µ–º–µ–Ω–∏ –∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–ø–∞–º–∞.

---

## üìå –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### 1. –ß–µ—Å—Ç–Ω—ã–µ —Ç–æ—Ä–≥–∏ –∏ –ê–Ω—Ç–∏-—Å–Ω–∞–π–ø–µ—Ä
*   **–ü–µ—Ä–≤–∞—è —Å—Ç–∞–≤–∫–∞:** –ü—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è, –µ—Å–ª–∏ –æ–Ω–∞ `>=` —Å—Ç–∞—Ä—Ç–æ–≤–æ–π —Ü–µ–Ω–µ.
*   **–®–∞–≥ —Å—Ç–∞–≤–∫–∏:** –í—Å–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ —Å—Ç–∞–≤–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å `> —Ç–µ–∫—É—â–µ–π + —à–∞–≥`.
*   **–ê–Ω—Ç–∏-—Å–Ω–∞–π–ø–µ—Ä:** –ï—Å–ª–∏ —Å—Ç–∞–≤–∫–∞ —Å–¥–µ–ª–∞–Ω–∞ –º–µ–Ω–µ–µ —á–µ–º –∑–∞ 10 –º–∏–Ω—É—Ç –¥–æ –∫–æ–Ω—Ü–∞ (–∏–ª–∏ –ø–æ—Å–ª–µ –¥–µ–¥–ª–∞–π–Ω–∞, –ø–æ–∫–∞ –ª–æ—Ç –∞–∫—Ç–∏–≤–µ–Ω), –¥–µ–¥–ª–∞–π–Ω –ø—Ä–æ–¥–ª–µ–≤–∞–µ—Ç—Å—è.
    *   *–ü—Ä–∞–≤–∏–ª–æ:* **–ù–æ–≤—ã–π –¥–µ–¥–ª–∞–π–Ω = –í—Ä–µ–º—è —ç—Ç–æ–π —Å—Ç–∞–≤–∫–∏ + 10 –º–∏–Ω—É—Ç.**
    *   –≠—Ç–æ –¥–∞–µ—Ç –¥—Ä—É–≥–∏–º —É—á–∞—Å—Ç–Ω–∏–∫–∞–º —Ä–æ–≤–Ω–æ 10 –º–∏–Ω—É—Ç –Ω–∞ –æ—Ç–≤–µ—Ç.
*   **–í—Ä–µ–º—è:** –ë–æ—Ç –æ—Ä–∏–µ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –Ω–∞ **–≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –≤ –í–ö**, –∞ –Ω–µ –Ω–∞ –≤—Ä–µ–º—è —Å–≤–æ–µ–≥–æ –∑–∞–ø—É—Å–∫–∞. –î–∞–∂–µ –µ—Å–ª–∏ –±–æ—Ç "–ø—Ä–æ—Å–ø–∞–ª" –Ω–∞ –º–∏–Ω—É—Ç—É, –æ–Ω —á–µ—Å—Ç–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç –≤—Ä–µ–º—è —Å—Ç–∞–≤–∫–∏.

### 2. –¢–∏—à–∏–Ω–∞ –≤ –õ–° (No Spam Policy)
*   **–í —Ö–æ–¥–µ —Ç–æ—Ä–≥–æ–≤:** –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç **—Ç–æ–ª—å–∫–æ –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö** (–≤–µ—Ç–∫–∞—Ö).
    *   *–°—Ç–∞–≤–∫–∞ –ø–µ—Ä–µ–±–∏—Ç–∞?* -> –û—Ç–≤–µ—Ç –≤ –≤–µ—Ç–∫–µ.
    *   *–û—à–∏–±–∫–∞ (—Å—É–º–º–∞/—à–∞–≥)?* -> –û—Ç–≤–µ—Ç –≤ –≤–µ—Ç–∫–µ.
    *   **–í –õ–° –Ω–∏—á–µ–≥–æ –Ω–µ —à–ª–µ—Ç—Å—è**, —á—Ç–æ–±—ã –Ω–µ —Ä–∞–∑–¥—Ä–∞–∂–∞—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∏ –Ω–µ –ª–æ–≤–∏—Ç—å –ª–∏–º–∏—Ç—ã.
*   **–§–∏–Ω–∞–ª:** –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç **–æ–¥–Ω–æ —Å–≤–æ–¥–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ** –ø–æ–±–µ–¥–∏—Ç–µ–ª—é –≤ –õ–° —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è –í–°–ï–• –ª–æ—Ç–æ–≤ –∞—É–∫—Ü–∏–æ–Ω–∞.

### 3. –¢—Ä–æ–π–Ω–∞—è –∑–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–µ–π
–ë–æ—Ç –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –ø—Ä–∞–≤–∏–ª–æ **¬´–û–¥–∏–Ω –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π ‚Äî –û–¥–∏–Ω –æ—Ç–≤–µ—Ç¬ª**.
1.  **CacheService:** –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ ID –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è (–Ω–∞ 5 –º–∏–Ω—É—Ç).
2.  **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —ç—Ç–æ–≥–æ ID –≤ –ª–∏—Å—Ç–µ "–°—Ç–∞–≤–∫–∏".
3.  **Live Check (VK):** –ü–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –æ—Ç–≤–µ—Ç–∞ –±–æ—Ç –∑–∞—Ö–æ–¥–∏—Ç –≤ –í–ö –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –µ—Å—Ç—å –ª–∏ –ø–æ–¥ —ç—Ç–∏–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º –æ—Ç–≤–µ—Ç –æ—Ç –∏–º–µ–Ω–∏ –≥—Ä—É–ø–ø—ã. –ï—Å–ª–∏ –µ—Å—Ç—å ‚Äî –º–æ–ª—á–∏—Ç.

---

## üõ† –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –¢—Ä–∏–≥–≥–µ—Ä—ã (–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è)
–í —Å–∏—Å—Ç–µ–º–µ —Ä–∞–±–æ—Ç–∞—é—Ç –≤—Å–µ–≥–æ **2** —Ç—Ä–∏–≥–≥–µ—Ä–∞ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –º–µ–Ω—é):

1.  **`periodicSystemCheck` (–ö–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç)**
    *   –î–æ—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç "–∑–∞—Å—Ç—Ä—è–≤—à–∏–µ" —Å—Ç–∞–≤–∫–∏ –∏–∑ –æ—á–µ—Ä–µ–¥–∏.
    *   –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–µ–¥–ª–∞–π–Ω—ã –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö –ª–æ—Ç–æ–≤.
    *   –ï—Å–ª–∏ `–í—Ä–µ–º—è > –î–µ–¥–ª–∞–π–Ω` –∏ –Ω–µ—Ç –Ω–æ–≤—ã—Ö —Å—Ç–∞–≤–æ–∫ –∑–∞ 10 –º–∏–Ω ‚Äî –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –ª–æ—Ç.
    *   –ï—Å–ª–∏ –í–°–ï –ª–æ—Ç—ã –∑–∞–∫—Ä—ã—Ç—ã ‚Äî —Ä–∞—Å—Å—ã–ª–∞–µ—Ç —Å–≤–æ–¥–∫–∏ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è–º.

2.  **`dailyMaintenance` (–ï–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 02:00)**
    *   –û—á–∏—â–∞–µ—Ç —Å—Ç–∞—Ä—ã–µ –ª–æ–≥–∏ (>30 –¥–Ω–µ–π).
    *   –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å —Ç–∞–±–ª–∏—Ü—ã.

### –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
*   `Code.gs`: **–Ø–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã.** –°–æ–¥–µ—Ä–∂–∏—Ç –≤—Å—é –ª–æ–≥–∏–∫—É: –º–µ–Ω—é, –æ–±—Ä–∞–±–æ—Ç–∫—É —Å—Ç–∞–≤–æ–∫ (`handleWallReplyNew`), –≤–∞–ª–∏–¥–∞—Ü–∏—é, —Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—é –∏ —Ä–∞—Å—Å—ã–ª–∫—É.
*   `Vk.gs`: –û–±—â–µ–Ω–∏–µ —Å API –í–ö–æ–Ω—Ç–∞–∫—Ç–µ.
*   `Sheets.gs`: –†–∞–±–æ—Ç–∞ —Å Google –¢–∞–±–ª–∏—Ü–∞–º–∏.
*   `PeriodicTasks.gs`: –õ–æ–≥–∏–∫–∞ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤.

---

## üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞
1.  –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–¥ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä —Å–∫—Ä–∏–ø—Ç–æ–≤.
2.  –ù–∞–∂–º–∏—Ç–µ **Deploy** -> **New Deployment** (Web App, Access: Anyone).
3.  –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π URL.

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ VK
1.  –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Å–æ–æ–±—â–µ—Å—Ç–≤–∞: **API** -> **Callback API**.
2.  –í—Å—Ç–∞–≤—å—Ç–µ URL, –Ω–∞–∂–º–∏—Ç–µ "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å".
3.  –í —Ç–∏–ø–∞—Ö —Å–æ–±—ã—Ç–∏–π –æ—Ç–º–µ—Ç—å—Ç–µ –≥–∞–ª–æ—á–∫–∞–º–∏:
    *   `wall_post_new` (–ó–∞–ø–∏—Å–∏ –Ω–∞ —Å—Ç–µ–Ω–µ)
    *   `wall_reply_new` (–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏)
    *   `message_new` (–í—Ö–æ–¥—è—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è)

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¢–∞–±–ª–∏—Ü—ã
1.  –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ç–∞–±–ª–∏—Ü—ã. –ü–æ—è–≤–∏—Ç—Å—è –º–µ–Ω—é **VK Auction**.
2.  **üöÄ –ú–∞—Å—Ç–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**: –ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –ª–∏—Å—Ç—ã.
3.  **üîê –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏**: –í–≤–µ–¥–∏—Ç–µ —Ç–æ–∫–µ–Ω—ã (Group Token, Admin Token) –∏ ID –≥—Ä—É–ø–ø—ã.
4.  **üõ†Ô∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ -> üîÑ –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å —Ç—Ä–∏–≥–≥–µ—Ä—ã**: –ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—è–≤–∏–ª–æ—Å—å –æ–∫–Ω–æ "‚úÖ –£—Å–ø–µ—Ö".

---

## üìä –û–ø–∏—Å–∞–Ω–∏–µ –ª–∏—Å—Ç–æ–≤

*   **Config (–õ–æ—Ç—ã):** –°–ø–∏—Å–æ–∫ –ª–æ—Ç–æ–≤. –°—Ç–∞—Ç—É—Å `active` -> `sold` / `unsold`. –î–µ–¥–ª–∞–π–Ω –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∑–¥–µ—Å—å.
*   **Bids (–°—Ç–∞–≤–∫–∏):** –ò—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö —Å—Ç–∞–≤–æ–∫.
*   **Users (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏):** –ë–∞–∑–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Å –∞–¥—Ä–µ—Å–∞–º–∏ –¥–æ—Å—Ç–∞–≤–∫–∏.
*   **Orders (–ó–∞–∫–∞–∑—ã):** –ö—Ç–æ —á—Ç–æ –≤—ã–∏–≥—Ä–∞–ª –∏ –æ–ø–ª–∞—Ç–∏–ª –ª–∏.
*   **Settings (–ù–∞—Å—Ç—Ä–æ–π–∫–∏):** –®–∞–±–ª–æ–Ω—ã —Ç–µ–∫—Å—Ç–æ–≤, –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏ (`–í–ö–õ`/`–í–´–ö–õ`), ID –∞–¥–º–∏–Ω–æ–≤.
*   **NotificationQueue:** –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –æ—á–µ—Ä–µ–¥—å (—Å–µ–π—á–∞—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–π —Ä–∞—Å—Å—ã–ª–∫–∏).
*   **EventQueue:** –õ–æ–≥ –≤—Ö–æ–¥—è—â–∏—Ö —Å–æ–±—ã—Ç–∏–π –æ—Ç –í–ö (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏).

---

## ‚ùì –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã

**–í: –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ —Å—Ç–∞–≤–∫—É —Å—Ä–∞–∑—É.**
–û: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã. –ù–æ –æ–±—ã—á–Ω–æ –±–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ 2-3 —Å–µ–∫—É–Ω–¥—ã. –ï—Å–ª–∏ –±—ã–ª–∞ –∑–∞–¥–µ—Ä–∂–∫–∞ —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã –í–ö, –±–æ—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç –≤—Ä–µ–º—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –∏ –≤—Å–µ —Ä–∞–≤–Ω–æ –ø—Ä–∏–º–µ—Ç —Å—Ç–∞–≤–∫—É –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

**–í: –ê—É–∫—Ü–∏–æ–Ω –¥–æ–ª–∂–µ–Ω –±—ã–ª –∑–∞–∫–æ–Ω—á–∏—Ç—å—Å—è –≤ 21:00, —É–∂–µ 21:05.**
–û: –¢—Ä–∏–≥–≥–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç —Ä–∞–∑ –≤ 10 –º–∏–Ω—É—Ç (–≤ 21:00, 21:10, 21:20). –õ–æ—Ç –∑–∞–∫—Ä–æ–µ—Ç—Å—è –ø—Ä–∏ –±–ª–∏–∂–∞–π—à–µ–º —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–∏ —Ç—Ä–∏–≥–≥–µ—Ä–∞, –µ—Å–ª–∏ —Å—Ç–∞–≤–æ–∫ –Ω–µ –±—ã–ª–æ. –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ.

**–í: –ö–∞–∫ –≤—Ä—É—á–Ω—É—é –∑–∞–∫—Ä—ã—Ç—å –∞—É–∫—Ü–∏–æ–Ω?**
–û: –ú–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å –ª–æ—Ç–∞ –≤ —Ç–∞–±–ª–∏—Ü–µ –Ω–∞ `sold` –≤—Ä—É—á–Ω—É—é, –Ω–æ –ª—É—á—à–µ –¥–æ–∂–¥–∞—Ç—å—Å—è —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞.

---
*–í–µ—Ä—Å–∏—è 3.0 (Stable) ‚Äî 21.02.2026*
