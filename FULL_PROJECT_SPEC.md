
# ะะะะะะฏ ะขะะฅะะะงะะกะะะฏ ะกะะะฆะะคะะะะฆะะฏ ะะะะะะขะ: VK AUCTION BOT

**ะะตััะธั:** 2.3
**ะะฐัะฐ:** 11.02.2026
**ะกัะฐััั:** ะะตะฐะปะธะทะพะฒะฐะฝะพ ะธ ะดะพะบัะผะตะฝัะธัะพะฒะฐะฝะพ
**ะะปะฐััะพัะผะฐ:** Google Apps Script + Google Sheets + VK Callback API

---

## 1. ะะะฉะะ ะะะะกะะะะ ะกะะกะขะะะซ

### 1.5. ะะฒัััะพะบะตะฝะฝะฐั ะฐััะธัะตะบัััะฐ (ะะะะะ ะฒ v2.3)

ะะปั ะพะฑัะพะดะฐ ะพะณัะฐะฝะธัะตะฝะธะน VK API ะธ ะฟะพะฒััะตะฝะธั ะฝะฐะดะตะถะฝะพััะธ ัะธััะตะผะฐ ะธัะฟะพะปัะทัะตั ัะฐะทะดะตะปะตะฝะธะต ะฟัะฐะฒ ะดะพัััะฟะฐ:
*   **Admin (User) Token**: ะัะฟะพะปัะทัะตััั ะดะปั ะฐะดะผะธะฝะธัััะฐัะธะฒะฝัั ะดะตะนััะฒะธะน โ ัะพะทะดะฐะฝะธะต Callback-ัะตัะฒะตัะพะฒ, ะฟะพะปััะตะฝะธะต ะบะพะดะพะฒ ะฟะพะดัะฒะตัะถะดะตะฝะธั, ัะดะฐะปะตะฝะธะต ัะตััะพะฒัั ะฟะพััะพะฒ. ะขัะตะฑัะตั ะฟัะฐะฒ `groups, wall, offline`.
*   **Group Token**: ะัะฟะพะปัะทัะตััั ะฑะพัะพะผ ะดะปั ะพะฟะตัะฐัะธะพะฝะฝะพะน ะดะตััะตะปัะฝะพััะธ โ ะพัะฟัะฐะฒะบะฐ ัะพะพะฑัะตะฝะธะน ััะฐััะฝะธะบะฐะผ, ะฟัะฑะปะธะบะฐัะธั ะบะพะผะผะตะฝัะฐัะธะตะฒ ะฟะพะด ะปะพัะฐะผะธ. ะัะธะฒัะทะฐะฝ ะบ ะบะพะฝะบัะตัะฝะพะน ะณััะฟะฟะต.

---

## 2. ะะะฅะะขะะะขะฃะะ ะกะะกะขะะะซ

### 2.5. ะะฐััะตั ะฟะพะดะบะปััะตะฝะธั (4 ัะฐะณะฐ)

ะัะพัะตัั ะธะฝะธัะธะฐะปะธะทะฐัะธะธ ะฑะพัะฐ ะฟะพะปะฝะพัััั ะฐะฒัะพะผะฐัะธะทะธัะพะฒะฐะฝ ัะตัะตะท ะดะธะฐะปะพะณะพะฒะพะต ะพะบะฝะพ ยซะะฐัััะพะนะบะธ ะฐะฒัะพัะธะทะฐัะธะธยป:
1.  **ะะดะตะฝัะธัะธะบะฐัะธั**: ะะฒะพะด ัััะปะบะธ ะฝะฐ ะณััะฟะฟั (ID ะธะทะฒะปะตะบะฐะตััั ะฐะฒัะพะผะฐัะธัะตัะบะธ).
2.  **Admin Access**: ะะพะปััะตะฝะธะต ัะพะบะตะฝะฐ ะฟะพะปัะทะพะฒะฐัะตะปั ัะตัะตะท Standalone-ะฟัะธะปะพะถะตะฝะธะต.
3.  **Group Access**: ะะพะปััะตะฝะธะต ัะพะบะตะฝะฐ ัะพะพะฑัะตััะฒะฐ.
4.  **ะกะธะฝััะพะฝะธะทะฐัะธั**: ะกะบัะธะฟั ัะฐะผ ะฝะฐัััะฐะธะฒะฐะตั Callback API ะธ ะฒัะฟะพะปะฝัะตั ยซะขะธััั ะฟัะพะฒะตัะบัยป (ัะพะทะดะฐะตั ะธ ะผะณะฝะพะฒะตะฝะฝะพ ัะดะฐะปัะตั ะฟัะพะฒะตัะพัะฝัะน ะฟะพัั), ะณะฐัะฐะฝัะธััั ัะฐะฑะพัะพัะฟะพัะพะฑะฝะพััั ะฟะตัะตะด ะทะฐะฟััะบะพะผ.
\n\n### 1.1. ะะฒะตะดะตะฝะธะต\n\nะัะพะตะบั ะฟัะตะดััะฐะฒะปัะตั ัะพะฑะพะน ะฐะฒัะพะผะฐัะธะทะธัะพะฒะฐะฝะฝัั ัะธััะตะผั ะดะปั ะฟัะพะฒะตะดะตะฝะธั ะฐัะบัะธะพะฝะพะฒ ะฒ ัะพัะธะฐะปัะฝะพะน ัะตัะธ ะะะพะฝัะฐะบัะต. ะ ะพัะฝะพะฒะต ะปะตะถะธั Google Apps Script (GAS), ะบะพัะพััะน ัะปัะถะธั ะฑัะบะตะฝะดะพะผ, ะฒะทะฐะธะผะพะดะตะนััะฒัั ั VK API ัะตัะตะท Callback API ะธ ัะฟัะฐะฒะปัั ะดะฐะฝะฝัะผะธ ะฒ Google Sheets. ะกะธััะตะผะฐ ัะฟัะพะตะบัะธัะพะฒะฐะฝะฐ ะดะปั ะผะฐะบัะธะผะฐะปัะฝะพะน ะฐะฒัะพะฝะพะผะฝะพััะธ ะธ ะฟัะพััะพัั ัะฟัะฐะฒะปะตะฝะธั ะดะปั ะฐะดะผะธะฝะธัััะฐัะพัะพะฒ ัะพะพะฑัะตััะฒ, ะฝะต ััะตะฑัั ะฝะฐะฒัะบะพะฒ ะฟัะพะณัะฐะผะผะธัะพะฒะฐะฝะธั ะดะปั ะฟะพะฒัะตะดะฝะตะฒะฝะพะน ัะฐะฑะพัั.\n\n### 1.2. ะฆะตะปะธ ะธ ะทะฐะดะฐัะธ\n\n*   **ะะฒัะพะผะฐัะธะทะฐัะธั:** ะะฐะบัะธะผะฐะปัะฝะพ ะฐะฒัะพะผะฐัะธะทะธัะพะฒะฐัั ัััะธะฝะฝัะต ะฟัะพัะตััั, ัะฒัะทะฐะฝะฝัะต ั ะฟัะพะฒะตะดะตะฝะธะตะผ ะฐัะบัะธะพะฝะพะฒ (ะพะฑะฝะฐััะถะตะฝะธะต ะปะพัะพะฒ, ะฟัะธะตะผ ััะฐะฒะพะบ, ะพะฟัะตะดะตะปะตะฝะธะต ะฟะพะฑะตะดะธัะตะปะตะน, ัะฒะตะดะพะผะปะตะฝะธั).\n*   **ะะฐะดะตะถะฝะพััั:** ะะฑะตัะฟะตัะธัั ััะฐะฑะธะปัะฝัั ัะฐะฑะพัั ัะธััะตะผั ะดะฐะถะต ะฟัะธ ะฟะธะบะพะฒัั ะฝะฐะณััะทะบะฐั ะธ ะฒัะตะผะตะฝะฝัั ัะฑะพัั ะฒะฝะตัะฝะธั API.\n*   **ะะธะฑะบะพััั:** ะัะตะดะพััะฐะฒะธัั ะฐะดะผะธะฝะธัััะฐัะพัะฐะผ ะฒะพะทะผะพะถะฝะพััั ะปะตะณะบะพ ะฝะฐัััะฐะธะฒะฐัั ะฟะฐัะฐะผะตััั ะฐัะบัะธะพะฝะฐ ะธ ัะฐะฑะปะพะฝั ัะพะพะฑัะตะฝะธะน ัะตัะตะท Google ะขะฐะฑะปะธัั.\n*   **ะัะพะทัะฐัะฝะพััั:** ะะตััะธ ะฟะพะดัะพะฑะฝัะน ะถััะฝะฐะป ะฒัะตั ัะพะฑััะธะน ะดะปั ะพัะปะฐะดะบะธ, ะผะพะฝะธัะพัะธะฝะณะฐ ะธ ะฐะฝะฐะปะธะทะฐ.\n*   **ะขะตััะธััะตะผะพััั:** ะะบะปััะธัั ะฒัััะพะตะฝะฝัะน ัะธะผัะปััะพั ะดะปั ัะดะพะฑะฝะพะน ะฟัะพะฒะตัะบะธ ััะฝะบัะธะพะฝะฐะปัะฝะพััะธ ะธ ะณะตะฝะตัะฐัะธะธ ัะตััะพะฒัั ะดะฐะฝะฝัั.\n\n### 1.3. ะฆะตะปะตะฒะฐั ะฐัะดะธัะพัะธั\n\n*   **ะะดะผะธะฝะธัััะฐัะพัั ัะพะพะฑัะตััะฒ VK:** ะัะฝะพะฒะฝัะต ะฟะพะปัะทะพะฒะฐัะตะปะธ, ะบะพัะพััะต ะฟัะฑะปะธะบััั ะปะพัั, ะฝะฐัััะฐะธะฒะฐัั ะฟัะฐะฒะธะปะฐ ะฐัะบัะธะพะฝะฐ ะธ ะบะพะฝััะพะปะธัััั ะตะณะพ ัะพะด ัะตัะตะท Google ะขะฐะฑะปะธัั.\n*   **ะฃัะฐััะฝะธะบะธ ะฐัะบัะธะพะฝะฐ:** ะะพะปัะทะพะฒะฐัะตะปะธ VK, ะบะพัะพััะต ะดะตะปะฐัั ััะฐะฒะบะธ ะธ ะฟะพะปััะฐัั ะฐะฒัะพะผะฐัะธัะตัะบะธะต ัะฒะตะดะพะผะปะตะฝะธั ะพั ะฑะพัะฐ.\n\n### 1.4. ะะปะพััะฐัะธะน\n\n| ะขะตัะผะธะฝ          | ะะฟะธัะฐะฝะธะต                                                                  |\n| :-------------- | :------------------------------------------------------------------------ |\n| **ะะพั**         | ะขะพะฒะฐั, ะฒัััะฐะฒะปะตะฝะฝัะน ะฝะฐ ะฐัะบัะธะพะฝ (ะพะดะธะฝ ะฟะพัั VK = ะพะดะธะฝ ะปะพั).                 |\n| **ะกัะฐะฒะบะฐ**      | ะัะตะดะปะพะถะตะฝะธะต ัะตะฝั ะฒ ะบะพะผะผะตะฝัะฐัะธะธ ะบ ะฟะพััั ะปะพัะฐ.                              |\n| **ะะพะฑะตะดะธัะตะปั**  | ะฃัะฐััะฝะธะบ ั ะผะฐะบัะธะผะฐะปัะฝะพะน ะฒะฐะปะธะดะฝะพะน ััะฐะฒะบะพะน ะฝะฐ ะผะพะผะตะฝั ะพะบะพะฝัะฐะฝะธั ะฐัะบัะธะพะฝะฐ.    |\
| **ะัะบัะธะพะฝ**     | ะกะตัะธั ะปะพัะพะฒ, ะฟัะพะฒะพะดะธะผะฐั ะฟะพ ะพะฟัะตะดะตะปะตะฝะฝะพะผั ัะฐัะฟะธัะฐะฝะธั (ะฝะฐะฟัะธะผะตั, ะตะถะตะฝะตะดะตะปัะฝะพ). |\
| **GAS**         | Google Apps Script โ ะฑะตััะตัะฒะตัะฝะฐั ะฟะปะฐััะพัะผะฐ Google ะดะปั ะฒัะฟะพะปะฝะตะฝะธั JavaScript-ะบะพะดะฐ. |\
| **Callback API** | VK API ะดะปั ะฟะพะปััะตะฝะธั ัะพะฑััะธะน ะฒ ัะตะฐะปัะฝะพะผ ะฒัะตะผะตะฝะธ (ัะตัะตะท webhook).          |\
| **user_id**     | ะงะธัะปะพะฒะพะน ะธะดะตะฝัะธัะธะบะฐัะพั ะฟะพะปัะทะพะฒะฐัะตะปั ะะะพะฝัะฐะบัะต.                            |\
| **post_id**     | ะะดะตะฝัะธัะธะบะฐัะพั ะฟะพััะฐ VK ะฒ ัะพัะผะฐัะต `ownerID_postID`.                        |\
| **comment_id**  | ะะดะตะฝัะธัะธะบะฐัะพั ะบะพะผะผะตะฝัะฐัะธั VK.                                             |\
| **doPost()**    | ะขะพัะบะฐ ะฒัะพะดะฐ ะดะปั ะพะฑัะฐะฑะพัะบะธ ะฒัะพะดััะธั webhook-ัะพะฑััะธะน ะพั VK.                 |\
| **LockService** | ะะตัะฐะฝะธะทะผ ะฑะปะพะบะธัะพะฒะบะธ ะฒ GAS ะดะปั ะทะฐัะธัั ะพั ัะพััะพัะฝะธะน ะณะพะฝะบะธ (race conditions). |\
| **EventQueue**  | ะะธัั Google Sheets, ะธัะฟะพะปัะทัะตะผัะน ะบะฐะบ ะพัะตัะตะดั ะดะปั ะฒัะตั ะฒัะพะดััะธั ัะพะฑััะธะน VK. |\
| **NotificationQueue** | ะะธัั Google Sheets, ะธัะฟะพะปัะทัะตะผัะน ะบะฐะบ ะพัะตัะตะดั ะดะปั ะฒัะตั ะธััะพะดััะธั ัะฒะตะดะพะผะปะตะฝะธะน. |\
| **Monitoring**  | ะะตะทะฐะฒะธัะธะผัะน ะผะพะดัะปั ะดะปั ัะตะฝััะฐะปะธะทะพะฒะฐะฝะฝะพะณะพ ะปะพะณะธัะพะฒะฐะฝะธั ะฒ \"ะััะฝะฐะป\". |\
| **ะกะธะผัะปััะพั**   | ะะพะดัะปั `AuctionSimulator.gs` ะดะปั ะณะตะฝะตัะฐัะธะธ ัะตััะพะฒัั ะฟะพััะพะฒ ะธ ััะฐะฒะพะบ ะฒ VK. |\
\n---\n\n## 2. ะะะฅะะขะะะขะฃะะ ะกะะกะขะะะซ\n\n### 2.1. ะััะพะบะพััะพะฒะฝะตะฒะฐั ััะตะผะฐ\n\n```\nโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ\nโ            ะฃะะะะะะฌ 1: VK (ะััะพัะฝะธะบ ัะพะฑััะธะน)                โ\nโ    โข ะะพะฒัะต ะฟะพััั (wall_post_new)                           โ\nโ    โข ะะพะผะผะตะฝัะฐัะธะธ (wall_reply_new)                          โ\nโ    โข ะะธัะฝัะต ัะพะพะฑัะตะฝะธั (message_new)                        โ\nโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ\n                      โ Callback API (Webhook, HTTP POST)\n                      โ (ะขัะตะฑะพะฒะฐะฝะธะต VK: ะพัะฒะตั 'ok' ะทะฐ 5 ัะตะบัะฝะด)\n                      โผ\nโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ\nโ      ะฃะะะะะะฌ 2: Google Apps Script (ะะพะณะธะบะฐ ะฑะพัะฐ)          โ\nโ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ `doPost(e)`: ะะณะฝะพะฒะตะฝะฝะฐั ะพะฑัะฐะฑะพัะบะฐ ะธ ะพัะฒะตั 'ok'        โ  โ
โ  โ              (ะะพะณะธััะตั ะฒ `Incoming`, ะฒัะทัะฒะฐะตั `routeEvent`) โ  โ
โ  โ              (ะัะธ ะพัะธะฑะบะต ัะพััะฐะฝัะตั ะฒ `EventQueue`)    โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค  โ
โ  โ `periodicSystemCheck()`: (ะขัะธะณะณะตั: ะบะฐะถะดัะต 10 ะผะธะฝ)    โ  โ
โ  โ    โข `processEventQueue()`: ะะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ ะธะท ะฑััะตัะฐโ  โ
โ  โ    โข ะะพะฝะธัะพัะธะฝะณ ะทะดะพัะพะฒัั ัะธััะตะผั                      โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค  โ\nโ  โ `handleWallPostNew()`: ะะฐััะธะฝะณ ะปะพัะฐ, ะทะฐะฟะธัั ะฒ \"ะะพัั\"  โ  โ\nโ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค  โ\nโ  โ `handleWallReplyNew()`:                              โ  โ\nโ  โ    โข `LockService` ะดะปั ะทะฐัะธัั ะพั race conditions      โ  โ\nโ  โ    โข ะะฐะปะธะดะฐัะธั ััะฐะฒะบะธ (`validateBid`):                โ  โ\nโ  โ        โข ะัะพะฒะตัะบะฐ ะดะตะดะปะฐะนะฝะฐ, `max_bid`, `current_price`, `bid_step` |\nโ  โ    โข ะะฐะฟะธัั ะฒะฐะปะธะดะฝะพะน ััะฐะฒะบะธ ะฒ \"ะกัะฐะฒะบะธ\"                โ  โ\nโ  โ    โข ะะฑะฝะพะฒะปะตะฝะธะต \"ะะพัะพะฒ\" (current_price, leader_id)    โ  โ\nโ  โ    โข ะะพะณะธะบะฐ ะฟัะพะดะปะตะฝะธั ะดะตะดะปะฐะนะฝะฐ ะฐัะบัะธะพะฝะฐ               โ  โ\nโ  โ    โข ะะพััะฐะฝะพะฒะบะฐ ัะฒะตะดะพะผะปะตะฝะธะน (`outbid`, `low_bid`) ะฒ `NotificationQueue` |\nโ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค  โ\nโ  โ `processNotificationQueue()`: (ะขัะธะณะณะตั: ะบะฐะถะดัั ะผะธะฝััั) โ  โ\nโ  โ    โข ะะทะฒะปะตะบะฐะตั ัะฒะตะดะพะผะปะตะฝะธั ะธะท `NotificationQueue`     โ  โ\nโ  โ    โข `sendNotification()`: ะัะฟัะฐะฒะปัะตั ะะก/ะบะพะผะผะตะฝัะฐัะธะธ ัะตัะตะท VK API (ั rate limiting) |\nโ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค  โ\nโ  โ `finalizeAuction()`: (ะขัะธะณะณะตั: ะตะถะตะฝะตะดะตะปัะฝะพ)           โ  โ\nโ  โ    โข ะะฟัะตะดะตะปะตะฝะธะต ะฟะพะฑะตะดะธัะตะปะตะน, ะทะฐะฟะธัั ะฒ \"ะะพะฑะตะดะธัะตะปะธ\"   โ  โ\nโ  โ    โข ะัะฟัะฐะฒะบะฐ ัะฒะตะดะพะผะปะตะฝะธะน `winner`                     โ  โ\nโ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค  โ\nโ  โ `AuctionSimulator.gs`: (ะขัะธะณะณะตั: ะตะถะตัะฐัะฝะพ/ะฒัััะฝัั)    โ  โ\nโ  โ    โข ะะตะฝะตัะฐัะธั ัะตััะพะฒัั ะฟะพััะพะฒ-ะปะพัะพะฒ ะธ ะบะพะผะผะตะฝัะฐัะธะตะฒ   โ  โ\nโ  โ      ะฒ VK (ั ัะฐะทะฝัะผะธ ััะตะฝะฐัะธัะผะธ ััะฐะฒะพะบ, ัะฐะทะฝัะผะธ ะฟะพะปัะทะพะฒะฐัะตะปัะผะธ) |\nโ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค  โ\nโ  โ ะะฑัะธะต ะผะพะดัะปะธ: `Sheets.gs` (ัะฐะฑะพัะฐ ั ัะฐะฑะปะธัะฐะผะธ), `VkApi.gs` (ะพะฑะพะปะพัะบะฐ VK API), `Monitoring.gs` (ะปะพะณะธัะพะฒะฐะฝะธะต) โ  โ\nโ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ\nโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ\n                      โ\n                      โผ\nโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ\nโ         ะฃะะะะะะฌ 3: Google Sheets (ะฅัะฐะฝะธะปะธัะต ะะฐะฝะฝัั)        โ\nโ    โข \"ะะพัั\" (`Config`)                                    โ\nโ    โข \"ะกัะฐะฒะบะธ\" (`Bids`)                                    โ\nโ    โข \"ะะพะฑะตะดะธัะตะปะธ\" (`Winners`)                             โ\nโ    โข \"ะะฐัััะพะนะบะธ\" (`Settings`)                             โ\nโ    โข \"ะัะตัะตะดั ะกะพะฑััะธะน\" (`EventQueue`)                     โ\nโ    โข \"ะัะตัะตะดั\" (`NotificationQueue`)                      โ\nโ    โข \"ะััะฝะฐะป\" (`Logs`)                                    โ\nโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ\n                      โ\n                      โผ\nโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ\nโ         ะฃะะะะะะฌ 4: VK API (ะััะพะดััะธะต ะดะตะนััะฒะธั)            โ\nโ    โข `messages.send` (ะะก ัะฒะตะดะพะผะปะตะฝะธั)                     โ\nโ    โข `wall.createComment` (ะะพะผะผะตะฝัะฐัะธะธ)                   โ\nโ    โข `wall.post` (ะะพััั ะพั ัะธะผัะปััะพัะฐ)                    โ\nโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ\n```\n\n### 2.2. ะขะตัะฝะพะปะพะณะธัะตัะบะธะน ััะตะบ\n\n*   **ะกะตัะฒะตัะฝะฐั ะปะพะณะธะบะฐ:** Google Apps Script (JavaScript ES6+)\n    *   **ะะฑะพัะฝะพะฒะฐะฝะธะต:** ะะตัะฟะปะฐัะฝัะน ัะพััะธะฝะณ, ะณะปัะฑะพะบะฐั ะธะฝัะตะณัะฐัะธั ั Google Sheets, ะฐะฒัะพะผะฐัะธัะตัะบะธะน HTTPS, ะดะพััะฐัะพัะฝัะต ะบะฒะพัั ะดะปั ะทะฐัะฒะปะตะฝะฝะพะน ะฝะฐะณััะทะบะธ.\n*   **ะะฐะทะฐ ะดะฐะฝะฝัั:** Google Sheets\n    *   **ะะฑะพัะฝะพะฒะฐะฝะธะต:** ะัะพััะพัะฐ ัะฟัะฐะฒะปะตะฝะธั ะดะปั ะฐะดะผะธะฝะธัััะฐัะพัะฐ, ะฟัะธะฒััะฝัะน ะธะฝัะตััะตะนั, ะฝะพัะผะฐะปะธะทะพะฒะฐะฝะฝะฐั ััััะบัััะฐ ะดะฐะฝะฝัั, ะฒะพะทะผะพะถะฝะพััั ะธัะฟะพะปัะทะพะฒะฐะฝะธั ัะพัะผัะป ะดะปั ะพััะตัะพะฒ, ะฑะตัะฟะปะฐัะฝะพะต ะธ ะฝะตะพะณัะฐะฝะธัะตะฝะฝะพะต ััะฐะฝะตะฝะธะต ะฒ ัะฐะผะบะฐั Google Drive.\n*   **VK ะะฝัะตะณัะฐัะธั:** VK Callback API + VK API 5.199 (ะธะปะธ ะฒััะต)\n    *   **ะะฑะพัะฝะพะฒะฐะฝะธะต:** ะะพะปััะตะฝะธะต ัะพะฑััะธะน ะฒ ัะตะฐะปัะฝะพะผ ะฒัะตะผะตะฝะธ, ะฒะพะทะผะพะถะฝะพััั ัะพะฒะตััะฐัั ะธััะพะดััะธะต ะดะตะนััะฒะธั (ะพัะฟัะฐะฒะบะฐ ัะพะพะฑัะตะฝะธะน, ะฟะพััะพะฒ, ะบะพะผะผะตะฝัะฐัะธะตะฒ).\n*   **ะะฐัะธัะฐ ะพั Race Conditions:** `LockService` (ะฒัััะพะตะฝะฝัะน ะฒ GAS)\n    *   **ะะฑะพัะฝะพะฒะฐะฝะธะต:** ะะฑะตัะฟะตัะตะฝะธะต ะฐัะพะผะฐัะฝะพััะธ ะพะฟะตัะฐัะธะน ะฟัะธ ะพะดะฝะพะฒัะตะผะตะฝะฝัั ััะฐะฒะบะฐั, ะฟัะตะดะพัะฒัะฐัะตะฝะธะต ะดัะฑะปะธัะพะฒะฐะฝะธั ะฟะพะฑะตะดะธัะตะปะตะน. ะขะฐะนะผะฐัั `LockService` ะฝะฐัััะพะตะฝ ะฝะฐ 5 ัะตะบัะฝะด, ััะพะฑั ัะปะพะถะธัััั ะฒ ะปะธะผะธั `doPost()`.\n*   **Rate Limiting:** ะัะตัะตะดะธ ั ะธัะบััััะฒะตะฝะฝะพะน ะทะฐะดะตัะถะบะพะน (`Utilities.sleep()`)\n    *   **ะะฑะพัะฝะพะฒะฐะฝะธะต:** ะกะพะฑะปัะดะตะฝะธะต ะปะธะผะธัะฐ VK API ะฒ 3 ะทะฐะฟัะพัะฐ/ัะตะบัะฝะดั ะดะปั ะธััะพะดััะธั ะดะตะนััะฒะธะน (ัะฒะตะดะพะผะปะตะฝะธะน, ะบะพะผะผะตะฝัะฐัะธะตะฒ). ะะฐะดะตัะถะบะฐ 350 ะผั ะพะฑะตัะฟะตัะธะฒะฐะตั ะฑะตะทะพะฟะฐัะฝัะน ััะพะฒะตะฝั โ2.85 ะทะฐะฟัะพัะฐ/ัะตะบ.\n*   **ะัะธะฝััะพะฝะฝะฐั ะพะฑัะฐะฑะพัะบะฐ ัะพะฑััะธะน:** Time-driven ััะธะณะณะตัั + `EventQueue`\n    *   **ะะฑะพัะฝะพะฒะฐะฝะธะต:** ะะพะทะฒะพะปัะตั `doPost()` ะผะณะฝะพะฒะตะฝะฝะพ ะพัะฒะตัะฐัั VK, ะธะทะฑะตะณะฐั ัะฐะนะผ-ะฐััะพะฒ. ะัั ะพัะฝะพะฒะฝะฐั ะปะพะณะธะบะฐ ะพะฑัะฐะฑะพัะบะธ ัะพะฑััะธะน ะฒัะฝะตัะตะฝะฐ ะฒ ะพัะดะตะปัะฝัั ััะฝะบัะธั, ะทะฐะฟััะบะฐะตะผัั ะฟะพ ััะธะณะณะตัั (ะบะฐะถะดัั ะผะธะฝััั).\n*   **ะัะธะฝััะพะฝะฝะฐั ะพะฑัะฐะฑะพัะบะฐ ัะฒะตะดะพะผะปะตะฝะธะน:** Time-driven ััะธะณะณะตัั + `NotificationQueue`\n    *   **ะะฑะพัะฝะพะฒะฐะฝะธะต:** ะะฐะทะดะตะปะตะฝะธะต ะฟัะพัะตััะฐ ัะพัะผะธัะพะฒะฐะฝะธั ะธ ะพัะฟัะฐะฒะบะธ ัะฒะตะดะพะผะปะตะฝะธะน. ะะพะทะฒะพะปัะตั ะฟัะธะผะตะฝััั ะดะตะฑะพะฝั (ะทะฐัะธัั ะพั ัะฟะฐะผะฐ) ะธ `rate limiting` ะฑะตะท ะฑะปะพะบะธัะพะฒะบะธ ะพัะฝะพะฒะฝะพะน ะปะพะณะธะบะธ. ะฃะฒะตะดะพะผะปะตะฝะธั ัะพััะฐะฝััััั ะฟัะธ ะฒัะตะผะตะฝะฝัั ัะฑะพัั VK API.\n*   **ะะปะฐะฝะธัะพะฒัะธะบ ะทะฐะดะฐั:** Time-driven ััะธะณะณะตัั (ะฒัััะพะตะฝะฝัะต ะฒ GAS)\n    *   **ะะฑะพัะฝะพะฒะฐะฝะธะต:** ะะฒัะพะผะฐัะธัะตัะบะธะน ะทะฐะฟััะบ `processEventQueue` ะธ `processNotificationQueue` (ะบะฐะถะดัั ะผะธะฝััั), `finalizeAuction` (ะตะถะตะฝะตะดะตะปัะฝะพ), `runSingleSimulation` (ะตะถะตัะฐัะฝะพ).\n*   **ะะพะฝะธัะพัะธะฝะณ:** `Monitoring.gs` + ะปะธัั \"ะััะฝะฐะป\"\n    *   **ะะฑะพัะฝะพะฒะฐะฝะธะต:** ะะตะทะฐะฒะธัะธะผัะน ะธ ะปะตะณะบะพะฒะตัะฝัะน ะผะตัะฐะฝะธะทะผ ะดะปั ะปะพะณะธัะพะฒะฐะฝะธั ะฒัะตั ะบะปััะตะฒัั ัะพะฑััะธะน ัะธััะตะผั, ะบัะธัะธัะตัะบะธ ะฒะฐะถะฝัะน ะดะปั ะพัะปะฐะดะบะธ, ะฐัะดะธัะฐ ะธ ะฐะฝะฐะปะธะทะฐ ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ.\n*   **ะกะธะผัะปััะพั:** `AuctionSimulator.gs`\n    *   **ะะฑะพัะฝะพะฒะฐะฝะธะต:** ะะฝััััะผะตะฝั ะดะปั ัะตััะธัะพะฒะฐะฝะธั ัะธััะตะผั ะฒ ััะปะพะฒะธัั, ะฟัะธะฑะปะธะถะตะฝะฝัั ะบ ัะตะฐะปัะฝัะผ, ะฑะตะท ะฝะตะพะฑัะพะดะธะผะพััะธ ัััะฝะพะน ะณะตะฝะตัะฐัะธะธ ะฟะพััะพะฒ ะธ ะบะพะผะผะตะฝัะฐัะธะตะฒ.\n\n### 2.3. ะะทะฐะธะผะพะดะตะนััะฒะธะต ั VK API\n\n#### 2.3.1. Callback API Events\n\n| Event Type      | ะะฑัะฐะฑะพััะธะบ (`Code.gs`)           | ะะตัะพะด ะพะฑัะฐะฑะพัะบะธ | ะัะตะผั ะพะฑัะฐะฑะพัะบะธ (ะฒ `doPost`) |\
| :-------------- | :------------------------------- | :-------------- | :---------------------------- |\
| `confirmation`  | `doPost()`                       | ะกะธะฝััะพะฝะฝะพ       | < 100ms                       |\
| `wall_post_new` | `enqueueEvent()` -> `processEventQueue()` -> `handleWallPostNew()` | ะัะธะฝััะพะฝะฝะพ      | < 2 ัะตะบ (ะพัะฒะตั VK), ~1-3 ะผะธะฝ (ะฟะพะปะฝะฐั) |\
| `wall_reply_new` | `enqueueEvent()` -> `processEventQueue()` -> `handleWallReplyNew()` | ะัะธะฝััะพะฝะฝะพ      | < 2 ัะตะบ (ะพัะฒะตั VK), ~1-3 ะผะธะฝ (ะฟะพะปะฝะฐั) |\
| `message_new`   | `enqueueEvent()` -> `processEventQueue()` -> `handleMessageNew()` | ะัะธะฝััะพะฝะฝะพ      | < 2 ัะตะบ (ะพัะฒะตั VK), ~1-3 ะผะธะฝ (ะฟะพะปะฝะฐั) |\
\n**ะะฐะถะฝะพะต ะทะฐะผะตัะฐะฝะธะต:** ะัะต ะพะฑัะฐะฑะพััะธะบะธ `doPost()` ะณะฐัะฐะฝัะธัะพะฒะฐะฝะฝะพ ะพัะฒะตัะฐัั `\"ok\"` VK ะฒ ัะตัะตะฝะธะต 2 ัะตะบัะฝะด, ะฒัะฝะพัั ัะปะพะถะฝัั ะปะพะณะธะบั ะฒ ะฐัะธะฝััะพะฝะฝัะต ะพัะตัะตะดะธ ะดะปั ะพะฑะตัะฟะตัะตะฝะธั ััะฐะฑะธะปัะฝะพััะธ.\n\n#### 2.3.2. VK API Methods\n\n| ะะตัะพะด               | ะะฐะทะฝะฐัะตะฝะธะต                              | ะงะฐััะพัะฐ                       | Rate Limit | ะะฑัะฐะฑะพัะบะฐ                                    |\
| :------------------ | :-------------------------------------- | :---------------------------- | :--------- | :------------------------------------------- |\
| `messages.send`     | ะัะฟัะฐะฒะบะฐ ะะก (ัะฒะตะดะพะผะปะตะฝะธั, ัะฒะพะดะบะธ)       | ~100-150/ะฐัะบัะธะพะฝ              | 3/ัะตะบ      | `NotificationQueue` + `processNotificationQueue()` ั ะทะฐะดะตัะถะบะพะน |\
| `wall.createComment` | ะะพะผะผะตะฝัะฐัะธะธ (ะฟะพะฑะตะดะธัะตะปะธ, ัะธะผัะปััะพั)     | ~15-30/ะฐัะบัะธะพะฝ + ัะธะผัะปััะพั   | 3/ัะตะบ      | `NotificationQueue` / ะฝะฐะฟััะผัั ะฒ ัะธะผัะปััะพัะต |\
| `groups.getById`    | ะะพะปััะตะฝะธะต ะธะฝัะพ ะพ ะณััะฟะฟะต                 | ะะพ ััะตะฑะพะฒะฐะฝะธั                 | 3/ัะตะบ      | ะะฐะฟััะผัั ัะตัะตะท `callVk`                      |\
| `users.get`         | ะะพะปััะตะฝะธะต ะคะะ ะฟะพะปัะทะพะฒะฐัะตะปั              | ~15/ะฐัะบัะธะพะฝ                   | 3/ัะตะบ      | ะะฐะฟััะผัั ัะตัะตะท `callVk`                      |\
| `wall.post`         | ะัะฑะปะธะบะฐัะธั ะฟะพััะพะฒ ัะธะผัะปััะพัะพะผ           | ~1-5/ัะฐั (ะดะปั ัะธะผัะปััะพัะฐ)    | 50/ะดะตะฝั    | ะะฐะฟััะผัั ัะตัะตะท `callVk` ะฒ ัะธะผัะปััะพัะต       |\
\n### 2.4. ะัะฐะฝัั ัะตะฐะปะธะทะฐัะธะธ ะธ ะปัััะธะต ะฟัะฐะบัะธะบะธ\n\n*   **ะัะธะฝััะพะฝะฝะพััั:** ะะปััะตะฒะพะน ะฐััะธัะตะบัััะฝัะน ะฟัะธะฝัะธะฟ, ะพะฑะตัะฟะตัะธะฒะฐััะธะน ัะพะพัะฒะตัััะฒะธะต ััะตะฑะพะฒะฐะฝะธัะผ VK API ะฟะพ ะฒัะตะผะตะฝะธ ะพัะฒะตัะฐ ะธ ะฟะพะฒััะฐััะธะน ะฝะฐะดะตะถะฝะพััั ัะธััะตะผั ะทะฐ ััะตั ัััะพะนัะธะฒะพััะธ ะบ ะฒัะตะผะตะฝะฝัะผ ัะฑะพัะผ.\n*   **`LockService`:** ะัะฟะพะปัะทัะตััั ะดะปั ะฒัะตั ะบัะธัะธัะตัะบะธั ะพะฟะตัะฐัะธะน ั ะดะฐะฝะฝัะผะธ ะปะพัะพะฒ (`handleWallReplyNew`) ะดะปั ะฟัะตะดะพัะฒัะฐัะตะฝะธั `race conditions`. ะญัะพ ะณะฐัะฐะฝัะธััะตั, ััะพ ะดะฐะถะต ะฟัะธ ะพะดะฝะพะฒัะตะผะตะฝะฝัั ััะฐะฒะบะฐั ะดะฐะฝะฝัะต ะพะฑัะฐะฑะฐััะฒะฐัััั ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝะพ ะธ ะบะพััะตะบัะฝะพ.\n*   **ะฃะฝะธะฒะตััะฐะปัะฝัะน `callVk`:** ะคัะฝะบัะธั `callVk` (`VkApi.gs`) ะฐะฑัััะฐะณะธััะตั ะฒะทะฐะธะผะพะดะตะนััะฒะธะต ั VK API, ะฟะพะทะฒะพะปัั ะปะตะณะบะพ ะฟะตัะตะบะปััะฐัั `access_token` (ะดะปั ะฑะพัะฐ ะธะปะธ ะดะปั ัะธะผัะปััะพัะฐ), ะพะฑัะฐะฑะฐััะฒะฐะตั ะฟะฐัะฐะผะตััั ะธ ะพัะธะฑะบะธ.\n*   **ะะพะดัะปัะฝะพััั:** ะะพะด ัะฐะทะฑะธั ะฝะฐ ะปะพะณะธัะตัะบะธะต ะผะพะดัะปะธ (`Code.gs`, `Sheets.gs`, `VkApi.gs`, `Monitoring.gs`, `AuctionSimulator.gs`), ััะพ ัะปัััะฐะตั ัะธัะฐะตะผะพััั, ะฟะพะดะดะตัะถะธะฒะฐะตะผะพััั ะธ ะฒะพะทะผะพะถะฝะพััั ัะตััะธัะพะฒะฐะฝะธั.\n*   **ะะฐัััะพะนะบะธ ัะตัะตะท Google Sheets ะธ `PropertiesService`:** ะัะฑะปะธัะฝัะต ะฝะฐัััะพะนะบะธ (ัะฐะณ ััะฐะฒะบะธ, ะฟัะฐะฒะธะปะฐ ะดะพััะฐะฒะบะธ) ััะฐะฝัััั ะฒ ะปะธััะต \"ะะฐัััะพะนะบะธ\". ะงัะฒััะฒะธัะตะปัะฝัะต ะดะฐะฝะฝัะต (ัะพะบะตะฝั VK, ะฟะฐัะพะปะธ) ััะฐะฝัััั ะฒ `PropertiesService`, ะพะฑะตัะฟะตัะธะฒะฐั ะฑะตะทะพะฟะฐัะฝะพััั ะธ ะฝะต ััะตะฑัั ะธะทะผะตะฝะตะฝะธั ะบะพะดะฐ ะดะปั ะฝะฐัััะพะนะบะธ.\n*   **ะะพะดัะพะฑะฝะพะต ะปะพะณะธัะพะฒะฐะฝะธะต:** ะะพะดัะปั `Monitoring.gs` ะธ ะปะธัั \"ะััะฝะฐะป\" ะฟัะตะดะพััะฐะฒะปััั ะดะตัะฐะปะธะทะธัะพะฒะฐะฝะฝัะน ะถััะฝะฐะป ะฒัะตั ะบะปััะตะฒัั ัะพะฑััะธะน ัะธััะตะผั, ััะพ ะฑะตััะตะฝะฝะพ ะดะปั ะพัะปะฐะดะบะธ, ะฐัะดะธัะฐ ะธ ะฟะพะฝะธะผะฐะฝะธั ะฟะพะฒะตะดะตะฝะธั ะฐัะบัะธะพะฝะฐ.\n*   **ะะธะฑะบะธะน ะฟะฐััะธะฝะณ:** ะะตะณัะปััะฝัะต ะฒััะฐะถะตะฝะธั ะดะปั ะธะทะฒะปะตัะตะฝะธั ะดะฐะฝะฝัั ะธะท ะฟะพััะพะฒ ะธ ะบะพะผะผะตะฝัะฐัะธะตะฒ ัะฟัะพะตะบัะธัะพะฒะฐะฝั ะผะฐะบัะธะผะฐะปัะฝะพ ะณะธะฑะบะธะผะธ, ััะพะฑั ัะฟัะฐะฒะปััััั ั ะฝะตะฑะพะปััะธะผะธ ะพัะบะปะพะฝะตะฝะธัะผะธ ะฒ ัะพัะผะฐัะธัะพะฒะฐะฝะธะธ.\n\n---\n\n## 3. ะกะขะะฃะะขะฃะะ GOOGLE SHEETS (ะะะะ ะะะะะซะฅ)\n\nะกะธััะตะผะฐ ะฐะฒัะพะผะฐัะธัะตัะบะธ ัะพะทะดะฐะตั ะธ ะฟะพะดะดะตัะถะธะฒะฐะตั ัะปะตะดัััะธะต ะปะธััั:\n\n### 3.1. ะะธัั ยซะะพััยป (`Config`)\n\n**ะะฟะธัะฐะฝะธะต:** ะะปะฐะฒะฝัะน ัะตะตััั ะฒัะตั ะปะพัะพะฒ ะฐัะบัะธะพะฝะฐ. ะะฐะฟะพะปะฝัะตััั ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฟัะธ ะฟัะฑะปะธะบะฐัะธะธ ะฟะพััะฐ ะฒ VK ั ะผะฐัะบะตัะพะผ `#ะฐัะบัะธะพะฝ`. ะะพะปั `current_price` ะธ `leader_id` ะดะธะฝะฐะผะธัะตัะบะธ ะพะฑะฝะพะฒะปััััั ะฟะพ ะผะตัะต ะฟะพัััะฟะปะตะฝะธั ะฝะพะฒัั ััะฐะฒะพะบ. `deadline` ะผะพะถะตั ะฑััั ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฟัะพะดะปะตะฝ.\n\n| ะะพะปะต            | ะขะธะฟ      | ะะฟะธัะฐะฝะธะต                                                            | ะัะธะผะตั              |\
| :-------------- | :------- | :------------------------------------------------------------------ | :------------------ |\
| `lot_id`        | String   | ะฃะฝะธะบะฐะปัะฝัะน ะธะดะตะฝัะธัะธะบะฐัะพั ะปะพัะฐ (ะธะท ะฟะพััะฐ ะธะปะธ ัะณะตะฝะตัะธัะพะฒะฐะฝะฝัะน).       | `1840`, `SIM_abc123` |\
| `post_id`       | String   | ะะพะปะฝัะน ะธะดะตะฝัะธัะธะบะฐัะพั ะฟะพััะฐ VK (`ownerID_postID`).                   | `-202389657_48965`  |\
| `name`          | String   | ะะฐะทะฒะฐะฝะธะต ะปะพัะฐ, ะธะทะฒะปะตัะตะฝะฝะพะต ะธะท ัะตะบััะฐ ะฟะพััะฐ.                         | `ะคะธะณััะบะฐ Space Marine` |\
| `start_price`   | Number   | ะะฐัะฐะปัะฝะฐั ัะตะฝะฐ ะปะพัะฐ.                                                | `300`               |\
| `current_price` | Number   | ะขะตะบััะฐั ะผะฐะบัะธะผะฐะปัะฝะฐั ััะฐะฒะบะฐ ะฟะพ ะปะพัั.                                | `550`               |\
| `leader_id`     | String   | `user_id` ัะตะบััะตะณะพ ะปะธะดะตัะฐ (ััะฐััะฝะธะบะฐ ั ะผะฐะบัะธะผะฐะปัะฝะพะน ััะฐะฒะบะพะน).       | `67890`             |\
| `status`        | String   | ะขะตะบััะธะน ััะฐััั ะปะพัะฐ (`active`, `sold`, `unsold`, `cancelled`).      | `active`            |\
| `created_at`    | Date     | ะะฐัะฐ ะธ ะฒัะตะผั ัะพะทะดะฐะฝะธั ะทะฐะฟะธัะธ ะปะพัะฐ.                                  | `2026-02-08 10:00:00` |\
| `deadline`      | Date     | ะะฐัะฐ ะธ ะฒัะตะผั ะพะบะพะฝัะฐะฝะธั ะฐัะบัะธะพะฝะฐ (ะผะพะถะตั ะฑััั ะฟัะพะดะปะตะฝะพ).             | `2026-02-08 21:00:00` |\
| `bid_step`      | Number   | ะะธะฝะธะผะฐะปัะฝัะน ัะฐะณ ััะฐะฒะบะธ ะดะปั ะดะฐะฝะฝะพะณะพ ะปะพัะฐ.                           | `50`                |\
\n### 3.2. ะะธัั ยซะกัะฐะฒะบะธยป (`Bids`)\n\n**ะะฟะธัะฐะฝะธะต:** ะะพะดัะพะฑะฝัะน, ะฟะพะปะฝัะน ะถััะฝะฐะป ะฒัะตั ะฒะฐะปะธะดะฝัั ััะฐะฒะพะบ, ัะดะตะปะฐะฝะฝัั ััะฐััะฝะธะบะฐะผะธ ะฐัะบัะธะพะฝะฐ. ะญัะพั ะปะธัั ะบัะธัะธัะตัะบะธ ะฒะฐะถะตะฝ ะดะปั ะพััะปะตะถะธะฒะฐะฝะธั ะธััะพัะธะธ ัะพัะณะพะฒ ะฟะพ ะบะฐะถะดะพะผั ะปะพัั, ะฐ ัะฐะบะถะต ะดะปั ะพะฟัะตะดะตะปะตะฝะธั ะฟะพะฑะตะดะธัะตะปั (ััะธััะฒะฐะตััั ัะฐะผะฐั ะฒััะพะบะฐั ะธ ัะฐะผะฐั ัะฐะฝะฝัั ััะฐะฒะบะฐ ะฟัะธ ัะฐะฒะตะฝััะฒะต ััะผะผ).\n\n| ะะพะปะต          | ะขะธะฟ      | ะะฟะธัะฐะฝะธะต                                                            | ะัะธะผะตั                |\
| :------------ | :------- | :------------------------------------------------------------------ | :-------------------- |\
| `bid_id`      | String   | ะฃะฝะธะบะฐะปัะฝัะน ะธะดะตะฝัะธัะธะบะฐัะพั ะบะฐะถะดะพะน ััะฐะฒะบะธ (UUID).                      | `UUID_1`              |\
| `lot_id`      | String   | `lot_id`, ะบ ะบะพัะพัะพะผั ะพัะฝะพัะธััั ััะฐะฒะบะฐ.                              | `1691`                |\
| `user_id`     | String   | `user_id` ััะฐััะฝะธะบะฐ, ัะดะตะปะฐะฒัะตะณะพ ััะฐะฒะบั.                             | `12345`               |\
| `bid_amount`  | Number   | ะกัะผะผะฐ ััะฐะฒะบะธ.                                                       | `500`                 |\
| `timestamp`   | Date     | ะขะพัะฝะพะต ะฒัะตะผั, ะบะพะณะดะฐ ััะฐะฒะบะฐ ะฑัะปะฐ ะทะฐัะธะบัะธัะพะฒะฐะฝะฐ ัะธััะตะผะพะน.            | `2026-02-08 14:30:15` |\
| `comment_id`  | String   | ะะดะตะฝัะธัะธะบะฐัะพั ะบะพะผะผะตะฝัะฐัะธั VK, ะฒ ะบะพัะพัะพะผ ะฑัะปะฐ ัะดะตะปะฐะฝะฐ ััะฐะฒะบะฐ.       | `777`                 |\
\n### 3.3. ะะธัั ยซะะพะฑะตะดะธัะตะปะธยป (`Winners`)\n\n**ะะฟะธัะฐะฝะธะต:** ะะตะตััั ะฟะพะฑะตะดะธัะตะปะตะน ะฐัะบัะธะพะฝะพะฒ. ะะฐะฟะพะปะฝัะตััั ะฟะพัะปะต ัะธะฝะฐะปะธะทะฐัะธะธ ะฐัะบัะธะพะฝะฐ. ะัะฟะพะปัะทัะตััั ะดะปั ัะฟัะฐะฒะปะตะฝะธั ะฟะพัะปะตะดัััะธะผะธ ััะฐะฟะฐะผะธ (ะบะพะฝัะฐะบั, ะดะพััะฐะฒะบะฐ, ะพะฟะปะฐัะฐ).\n\n| ะะพะปะต          | ะขะธะฟ      | ะะฟะธัะฐะฝะธะต                                                            | ะัะธะผะตั                  |\
| :------------ | :------- | :------------------------------------------------------------------ | :---------------------- |\
| `lot_id`      | String   | `lot_id` ะฒัะธะณัะฐะฝะฝะพะณะพ ะปะพัะฐ.                                          | `1691`                  |\
| `name`        | String   | ะะฐะทะฒะฐะฝะธะต ะฒัะธะณัะฐะฝะฝะพะณะพ ะปะพัะฐ.                                         | `ะคะธะณััะบะฐ Space Marine`  |\
| `price`       | Number   | ะคะธะฝะฐะปัะฝะฐั ัะตะฝะฐ, ะทะฐ ะบะพัะพััั ะฑัะป ะฒัะธะณัะฐะฝ ะปะพั.                       | `550`                   |\
| `winner_id`   | String   | `user_id` ะฟะพะฑะตะดะธัะตะปั.                                               | `67890`                 |\
| `winner_name` | String   | ะะผั ะฟะพะฑะตะดะธัะตะปั (ะทะฐะฟัะฐัะธะฒะฐะตััั ะธะท VK API ะฝะฐ ะผะพะผะตะฝั ัะธะฝะฐะปะธะทะฐัะธะธ).   | `ะะฒะฐะฝ ะะฒะฐะฝะพะฒ`           |\
| `won_at`      | Date     | ะะฐัะฐ ะธ ะฒัะตะผั ะพะฟัะตะดะตะปะตะฝะธั ะฟะพะฑะตะดะธัะตะปั.                               | `2026-02-08 21:00:00`   |\
| `status`      | String   | ะกัะฐััั ะพะฑัะฐะฑะพัะบะธ ะทะฐะบะฐะทะฐ (`pending_contact`, `summary_sent`, `paid`, `shipped`). | `pending_contact`       |\
| `delivery`    | Number   | ะะฐัััะธัะฐะฝะฝะฐั ััะพะธะผะพััั ะดะพััะฐะฒะบะธ.                                  | `450`                   |\
| `paid`        | Boolean  | `TRUE`, ะตัะปะธ ะพะฟะปะฐัะฐ ะฟะพะปััะตะฝะฐ.                                       | `FALSE`                 |\
| `shipped`     | Boolean  | `TRUE`, ะตัะปะธ ัะพะฒะฐั ะพัะฟัะฐะฒะปะตะฝ.                                       | `FALSE`                 |\
\n### 3.4. ะะธัั ยซะะฐัััะพะนะบะธยป (`Settings`)\n\n**ะะฟะธัะฐะฝะธะต:** Key-value ััะฐะฝะธะปะธัะต ะดะปั ะฟัะฑะปะธัะฝัั ะฟะฐัะฐะผะตััะพะฒ ัะฐะฑะพัั ะฑะพัะฐ, ะบะพัะพััะต ะฐะดะผะธะฝะธัััะฐัะพั ะผะพะถะตั ะปะตะณะบะพ ะผะตะฝััั ัะตัะตะท ัะฐะฑะปะธัั. ะงัะฒััะฒะธัะตะปัะฝัะต ะดะฐะฝะฝัะต (`VK_TOKEN`, `VK_SECRET`, `ADMIN_PASSWORD` ะธ ั.ะฟ.) ััะฐะฝัััั ะฒ `PropertiesService` ะธ ะฝะฐัััะฐะธะฒะฐัััั ัะตัะตะท ะผะตะฝั **VK Auction -> ะะฐัััะพะนะบะฐ ะฐะฒัะพัะธะทะฐัะธะธ (VK)**.\n\n| ะะปัั (`setting_key`) | ะะฝะฐัะตะฝะธะต (`setting_value`) | ะะฟะธัะฐะฝะธะต                                             |\
| :------------------- | :------------------------- | :--------------------------------------------------- |\
| `DEBUG_VK_API`       | `TRUE`/`FALSE`             | ะะบะปััะธัั ะฟะพะดัะพะฑะฝะพะต ะปะพะณะธัะพะฒะฐะฝะธะต ะทะฐะฟัะพัะพะฒ ะบ VK API.    |\
| `bid_step_enabled`   | `TRUE`/`FALSE`             | ะะบะปััะธัั ะฟัะพะฒะตัะบั ะบัะฐัะฝะพััะธ ัะฐะณะฐ ััะฐะฒะบะธ.             |\
| `bid_step`           | Number                     | ะะฐะทะผะตั ัะฐะณะฐ ััะฐะฒะบะธ (ะฝะฐะฟัะธะผะตั, `50`).                 |\
| `subscription_check_enabled` | `TRUE`/`FALSE`       | ะัะพะฒะตัััั ะฟะพะดะฟะธัะบั ะฝะฐ ะณััะฟะฟั ะฟะตัะตะด ะฟัะธะตะผะพะผ ััะฐะฒะบะธ.   |\
| `debug_logging_enabled` | `TRUE`/`FALSE`            | ะะบะปััะธัั ะฟะพะดัะพะฑะฝัะต ัะตัะฝะธัะตัะบะธะต ะปะพะณะธ.                 |\
| `reply_on_invalid_bid_enabled` | `TRUE`/`FALSE`     | ะัะฒะตัะฐัั ะบะพะผะผะตะฝัะฐัะธะตะผ ะฝะฐ ะฝะตะบะพััะตะบัะฝัะต ััะฐะฒะบะธ.        |\
| `send_winner_dm_enabled` | `TRUE`/`FALSE`           | ะัะฟัะฐะฒะปััั ะฟะพะฑะตะดะธัะตะปั ัะพะพะฑัะตะฝะธะต ะฒ ะะก.                |\
| `min_bid_increment`  | Number                     | ะะธะฝะธะผะฐะปัะฝะฐั ะฝะฐะดะฑะฐะฒะบะฐ ะบ ัะตะบััะตะน ัะตะฝะต ะปะพัะฐ.            |\
| `max_bid`            | Number                     | ะะฐะบัะธะผะฐะปัะฝะพ ะดะพะฟัััะธะผะฐั ััะผะผะฐ ััะฐะฒะบะธ (ะทะฐัะธัะฐ ะพั ะพะฟะตัะฐัะพะบ). |\
| `delivery_rules`     | JSON String                | ะัะฐะฒะธะปะฐ ัะฐััะตัะฐ ััะพะธะผะพััะธ ะดะพััะฐะฒะบะธ.                  |\
| `order_summary_template` | String                 | ะจะฐะฑะปะพะฝ ัะพะพะฑัะตะฝะธั ะฟะพะฑะตะดะธัะตะปั ั ะดะตัะฐะปัะผะธ ะทะฐะบะฐะทะฐ.       |\
| `payment_phone`      | String                     | ะขะตะปะตัะพะฝ ะดะปั ะพะฟะปะฐัั (ะพัะพะฑัะฐะถะฐะตััั ะฒ ัะฒะพะดะบะต).          |\
| `payment_bank`       | String                     | ะะฐะทะฒะฐะฝะธะต ะฑะฐะฝะบะฐ ะดะปั ะพะฟะปะฐัั (ะพัะพะฑัะฐะถะฐะตััั ะฒ ัะฒะพะดะบะต).   |\
\n### 3.5. ะะธัั ยซะัะตัะตะดั ะกะพะฑััะธะนยป (`EventQueue`)\n\n**ะะฟะธัะฐะฝะธะต:** ะััะตั ะดะปั ะฒัะตั ะฒัะพะดััะธั ัะพะฑััะธะน ะพั VK Callback API. `doPost()` ะฑััััะพ ะทะฐะฟะธััะฒะฐะตั ััะดะฐ ััััะต ะดะฐะฝะฝัะต, ะฐ ะพัะดะตะปัะฝัะน ััะธะณะณะตั (`processEventQueue()`) ะทะฐัะตะผ ะฐัะธะฝััะพะฝะฝะพ ะพะฑัะฐะฑะฐััะฒะฐะตั ะธั. ะญัะพ ะณะฐัะฐะฝัะธััะตั ะผะณะฝะพะฒะตะฝะฝัะน ะพัะฒะตั VK ะธ ะฟัะตะดะพัะฒัะฐัะฐะตั ะฟะพัะตัั ัะพะฑััะธะน.\n\n| ะะพะปะต        | ะขะธะฟ      | ะะฟะธัะฐะฝะธะต                                                            | ะัะธะผะตั |\
| :---------- | :------- | :------------------------------------------------------------------ | :----- |\
| `eventId`   | String   | ะฃะฝะธะบะฐะปัะฝัะน ะธะดะตะฝัะธัะธะบะฐัะพั ัะพะฑััะธั (UUID).                            | `UUID_1` |\
| `payload`   | JSON String | ะะพะปะฝัะน JSON-ะพะฑัะตะบั webhook-ัะพะฑััะธั ะพั VK.                          | `{... VK webhook JSON ...}` |\
| `status`    | String   | ะกัะฐััั ะพะฑัะฐะฑะพัะบะธ ัะพะฑััะธั (`pending`, `processed`, `failed`).        | `pending` |\
| `receivedAt` | Date     | ะัะตะผั ะฟะพะปััะตะฝะธั ัะพะฑััะธั.                                            | `2026-02-08 14:30:00` |\
\n### 3.6. ะะธัั ยซะัะตัะตะดัยป (`NotificationQueue`)\n\n**ะะฟะธัะฐะฝะธะต:** ะััะตั ะดะปั ะฒัะตั ะธััะพะดััะธั ัะฒะตะดะพะผะปะตะฝะธะน (ะะก ะธ ะบะพะผะผะตะฝัะฐัะธะตะฒ), ะบะพัะพััะต ะดะพะปะถะฝั ะฑััั ะพัะฟัะฐะฒะปะตะฝั ะฟะพะปัะทะพะฒะฐัะตะปัะผ. ะัะดะตะปัะฝัะน ััะธะณะณะตั (`processNotificationQueue()`) ะพะฑัะฐะฑะฐััะฒะฐะตั ััั ะพัะตัะตะดั, ัะพะฑะปัะดะฐั `rate limits` VK API ะธ ะดะตะฑะพะฝั, ััะพะฑั ะธะทะฑะตะถะฐัั ัะฟะฐะผะฐ.\n\n| ะะพะปะต            | ะขะธะฟ      | ะะฟะธัะฐะฝะธะต                                                            | ะัะธะผะตั                               |\
| :-------------- | :------- | :------------------------------------------------------------------ | :----------------------------------- |\
| `queue_id`      | String   | ะฃะฝะธะบะฐะปัะฝัะน ะธะดะตะฝัะธัะธะบะฐัะพั ัะฒะตะดะพะผะปะตะฝะธั (UUID).                        | `UUID_1`                             |\
| `user_id`       | String   | `user_id` ะฟะพะปััะฐัะตะปั ัะฒะตะดะพะผะปะตะฝะธั.                                   | `12345`                              |\
| `type`          | String   | ะขะธะฟ ัะฒะตะดะพะผะปะตะฝะธั (`outbid`, `low_bid`, `winner`).                    | `outbid`                             |\
| `payload`       | JSON String | ะะตัะฐะปะธ ัะฒะตะดะพะผะปะตะฝะธั ะฒ JSON-ัะพัะผะฐัะต (ะทะฐะฒะธัะธั ะพั `type`).           | `{\"lot_id\":\"1691\",...}`           |\
| `status`        | String   | ะกัะฐััั ะพัะฟัะฐะฒะบะธ (`pending`, `sent`, `failed`).                      | `pending`                            |\
| `created_at`    | Date     | ะัะตะผั ัะพะทะดะฐะฝะธั ัะฒะตะดะพะผะปะตะฝะธั.                                         | `2026-02-08 14:30:00`                |\
| `processed_at`  | Date     | ะัะตะผั ะพัะฟัะฐะฒะบะธ/ะพะฑัะฐะฑะพัะบะธ ัะฒะตะดะพะผะปะตะฝะธั.                              |                                      |\
| `send_after`    | Date     | ะะฟัะธะพะฝะฐะปัะฝะพ: ะฒัะตะผั, ะฟะพัะปะต ะบะพัะพัะพะณะพ ะผะพะถะฝะพ ะพัะฟัะฐะฒะปััั ัะฒะตะดะพะผะปะตะฝะธะต. |                                      |\
\n### 3.7. ะะธัั ยซะััะฝะฐะปยป (`Logs`)\n\n**ะะฟะธัะฐะฝะธะต:** ะะฑัะธะน ะถััะฝะฐะป ะดะปั ะฒัะตั ะธะฝัะพัะผะฐัะธะพะฝะฝัั ัะพะพะฑัะตะฝะธะน, ะฟัะตะดัะฟัะตะถะดะตะฝะธะน ะธ ะบัะธัะธัะตัะบะธั ะพัะธะฑะพะบ ัะธััะตะผั. ะัะฟะพะปัะทัะตััั ะดะปั ะพะฟะตัะฐัะธะฒะฝะพะณะพ ะผะพะฝะธัะพัะธะฝะณะฐ ะธ ะพัะปะฐะดะบะธ.\n\n| ะะพะปะต      | ะขะธะฟ      | ะะฟะธัะฐะฝะธะต                                                            | ะัะธะผะตั                                       |\
| :-------- | :------- | :------------------------------------------------------------------ | :------------------------------------------- |\
| `date`    | Date     | ะะฐัะฐ ะธ ะฒัะตะผั ะทะฐะฟะธัะธ.                                                | `2026-02-08 14:30:00`                        |\
| `type`    | String   | ะขะธะฟ ะทะฐะฟะธัะธ (`ะะะคะ`, `ะะจะะะะ`, `ะะะะะฃะะะะะะะะะ`).                     | `ะะจะะะะ`                                     |\
| `message` | String   | ะัะฐัะบะพะต ัะพะพะฑัะตะฝะธะต ะพ ัะพะฑััะธะธ.                                        | `[processEvent_failed] ะัะธะฑะบะฐ ะฟะฐััะธะฝะณะฐ`      |\
| `details` | JSON String | ะะพะฟะพะปะฝะธัะตะปัะฝัะต ะดะตัะฐะปะธ ะฒ JSON-ัะพัะผะฐัะต (ะฝะฐะฟัะธะผะตั, ะฟะพะปะฝัะน `payload` ะพัะธะฑะบะธ). | `{ \"error\": \"...\", \"event_data\": \"...\" }` |\
\n---\n\n## 4. ะคะฃะะะฆะะะะะะฌะะซะ ะะะะะะะะะกะขะ\n\n### 4.1. ะะฒัะพะผะฐัะธัะตัะบะพะต ะพะฑะฝะฐััะถะตะฝะธะต ะธ ะฟะฐััะธะฝะณ ะปะพัะพะฒ\n\n*   **ะขัะธะณะณะตั:** `wall_post_new` ะพั VK Callback API, ะฐัะธะฝััะพะฝะฝะพ ะพะฑัะฐะฑะฐััะฒะฐะตััั `handleWallPostNew()`.\n*   **ะัะธัะตัะธะธ:** ะะพัั ะดะพะปะถะตะฝ ัะพะดะตัะถะฐัั ััััะตะณ `#ะฐัะบัะธะพะฝ` (ัะตะณะธััั ะฝะต ะฒะฐะถะตะฝ, ะผะพะถะตั ะฑััั ัะฐัััั ะดััะณะพะณะพ ััััะตะณะฐ, ะฝะฐะฟัะธะผะตั, `#ะฐัะบัะธะพะฝ@yourgroup`).\n*   **ะะฐััะธะฝะณ:** ะคัะฝะบัะธั `parseLotFromPost()` (`Code.gs`) ะธัะฟะพะปัะทัะตั ัะตะณัะปััะฝัะต ะฒััะฐะถะตะฝะธั ะดะปั ะธะทะฒะปะตัะตะฝะธั `lot_id`, `name`, `start_price`, `bid_step` ะธ `deadline` ะธะท ัะตะบััะฐ ะฟะพััะฐ. ะัะปะธ ะดะฐะฝะฝัะต ะพััััััะฒััั, ะธัะฟะพะปัะทััััั ะทะฝะฐัะตะฝะธั ะฟะพ ัะผะพะปัะฐะฝะธั.\n*   **ะะฐะฟะธัั:** ะะพะฒัะน ะปะพั ะทะฐะฟะธััะฒะฐะตััั ะฒ ะปะธัั \"ะะพัั\" (`Config`) ัะพ ััะฐัััะพะผ `active`.\n*   **ะะพะฝะธัะพัะธะฝะณ:** ะกะพะฑััะธั `LOT_CREATED` ะธ `LOT_PARSE_FAILED` ะปะพะณะธัััััั ะฒ ะปะธัั \"ะััะฝะฐะป\".\n\n### 4.2. ะะฑัะฐะฑะพัะบะฐ ะธ ะฒะฐะปะธะดะฐัะธั ััะฐะฒะพะบ\n\n*   **ะขัะธะณะณะตั:** `wall_reply_new` ะพั VK Callback API, ะฐัะธะฝััะพะฝะฝะพ ะพะฑัะฐะฑะฐััะฒะฐะตััั `handleWallReplyNew()`.\n*   **ะะฐััะธะฝะณ ััะฐะฒะบะธ:** ะคัะฝะบัะธั `parseBid()` (`Code.gs`) ะธะทะฒะปะตะบะฐะตั ัะธัะปะพะฒะพะต ะทะฝะฐัะตะฝะธะต ััะฐะฒะบะธ ะธะท ัะตะบััะฐ ะบะพะผะผะตะฝัะฐัะธั.\n*   **`LockService`:** `handleWallReplyNew()` ะธัะฟะพะปัะทัะตั `LockService` ะดะปั ะฐัะพะผะฐัะฝะพะน ะพะฑัะฐะฑะพัะบะธ ััะฐะฒะพะบ, ะฟัะตะดะพัะฒัะฐัะฐั `race conditions` ะธ ะณะฐัะฐะฝัะธััั ะบะพััะตะบัะฝะพะต ะพะฟัะตะดะตะปะตะฝะธะต ะปะธะดะตัะฐ.\n*   **ะะฐะปะธะดะฐัะธั:** ะคัะฝะบัะธั `validateBid()` (`Code.gs`) ะฒัะฟะพะปะฝัะตั ัะปะตะดัััะธะต ะฟัะพะฒะตัะบะธ (ะฒ ะฟะพััะดะบะต ะฟัะธะพัะธัะตัะฐ):\n    1.  **ะะตะดะปะฐะนะฝ:** ะัะบัะธะพะฝ ะฝะต ะดะพะปะถะตะฝ ะฑััั ะทะฐะฒะตััะตะฝ (`new Date() < lot.deadline`).\n    2.  **ะะฐะบัะธะผะฐะปัะฝะฐั ััะฐะฒะบะฐ:** ะกัะฐะฒะบะฐ ะฝะต ะดะพะปะถะฝะฐ ะฟัะตะฒััะฐัั `settings.max_bid` (ะฝะฐัััะฐะธะฒะฐะตััั ะฒ ะปะธััะต \"ะะฐัััะพะนะบะธ\").\n    3.  **ะะธะฝะธะผะฐะปัะฝะฐั ััะฐะฒะบะฐ:** ะกัะฐะฒะบะฐ ะดะพะปะถะฝะฐ ะฑััั ัััะพะณะพ ะฑะพะปััะต `current_price` (ะธะปะธ `start_price`, ะตัะปะธ ััะฐะฒะพะบ ะตัะต ะฝะต ะฑัะปะพ).\n    4.  **ะจะฐะณ ััะฐะฒะบะธ:** ะกัะฐะฒะบะฐ ะดะพะปะถะฝะฐ ะฑััั ะบัะฐัะฝะฐ `lot.bid_step` (ะตัะปะธ `bid_step_enabled` ะฒะบะปััะตะฝ ะฒ ะฝะฐัััะพะนะบะฐั).\n*   **ะะฐะฟะธัั:** ะะฐะปะธะดะฝะฐั ััะฐะฒะบะฐ ะทะฐะฟะธััะฒะฐะตััั ะฒ ะปะธัั \"ะกัะฐะฒะบะธ\" (`Bids`).\n*   **ะะฑะฝะพะฒะปะตะฝะธะต ะปะพัะฐ:** `current_price` ะธ `leader_id` ะปะพัะฐ ะฒ ะปะธััะต \"ะะพัั\" (`Config`) ะพะฑะฝะพะฒะปััััั.\n*   **ะัะพะดะปะตะฝะธะต ะฐัะบัะธะพะฝะฐ (`Anti-Sniper`):** ะัะปะธ ะฒะฐะปะธะดะฝะฐั ััะฐะฒะบะฐ ัะดะตะปะฐะฝะฐ ะฒ ะฟะพัะปะตะดะฝะธะต `10` ะผะธะฝัั ะดะพ ะดะตะดะปะฐะนะฝะฐ, ะฐัะบัะธะพะฝ ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฟัะพะดะปะตะฒะฐะตััั ะฝะฐ `10` ะผะธะฝัั. ะญัะพ ะฟัะตะดะพัะฒัะฐัะฐะตั \"ัะฝะฐะนะฟะตััะบะธะต\" ััะฐะฒะบะธ ะฒ ะฟะพัะปะตะดะฝะธะน ะผะพะผะตะฝั.\n*   **ะะพะฝะธัะพัะธะฝะณ:** ะกะพะฑััะธั `BID_RECEIVED`, `BID_VALIDATED`, `BID_RECORDED`, `LEADER_UPDATED`, `AUCTION_EXTENDED` ะปะพะณะธัััััั ะฒ ะปะธัั \"ะััะฝะฐะป\".\n\n### 4.3. ะกะธััะตะผะฐ ัะฒะตะดะพะผะปะตะฝะธะน\n\n*   **ะขัะธะณะณะตั:** `processNotificationQueue()` ะทะฐะฟััะบะฐะตััั ะบะฐะถะดัั ะผะธะฝััั ะฟะพ ัะฐะนะผะตัั.\n*   **ะัะตัะตะดั:** ะัะต ะธััะพะดััะธะต ัะฒะตะดะพะผะปะตะฝะธั ััะฐะฒัััั ะฒ ะปะธัั \"ะัะตัะตะดั\" (`NotificationQueue`).\n*   **ะขะธะฟั ัะฒะตะดะพะผะปะตะฝะธะน:**\n    *   `outbid`: ะัะฟัะฐะฒะปัะตััั ะฟัะตะดัะดััะตะผั ะปะธะดะตัั, ะบะพะณะดะฐ ะตะณะพ ััะฐะฒะบะฐ ะฟะตัะตะฑะธัะฐ.\n    *   `low_bid`: ะัะฟัะฐะฒะปัะตััั ััะฐััะฝะธะบั, ััั ััะฐะฒะบะฐ ะพะบะฐะทะฐะปะฐัั ะฝะธะถะต ัะตะบััะตะน ัะตะฝั (ั ะดััะถะตะปัะฑะฝัะผ ัะตะบััะพะผ).\n    *   `winner`: ะัะฟัะฐะฒะปัะตััั ะฟะพะฑะตะดะธัะตะปั ะฟะพัะปะต ัะธะฝะฐะปะธะทะฐัะธะธ ะฐัะบัะธะพะฝะฐ.\n*   **Rate Limiting:** `processNotificationQueue()` ะธัะฟะพะปัะทัะตั `Utilities.sleep(350);` ะดะปั ัะพะฑะปัะดะตะฝะธั ะปะธะผะธัะฐ VK API ะฒ 3 ะทะฐะฟัะพัะฐ/ัะตะบ, ะพัะฟัะฐะฒะปัั ัะฒะตะดะพะผะปะตะฝะธั ั ะฝะตะฑะพะปััะพะน ะทะฐะดะตัะถะบะพะน.\n*   **ะะตะฑะพะฝั:** `queueNotification()` ะฟัะพะฒะตััะตั ะฝะฐะปะธัะธะต ัะถะต `pending` ัะฒะตะดะพะผะปะตะฝะธั ะดะปั ะดะฐะฝะฝะพะณะพ `user_id` ะธ `type` ะธ ะพะฑะฝะพะฒะปัะตั ะตะณะพ `payload`, ะฟัะตะดะพัะฒัะฐัะฐั ัะฟะฐะผ ะธะดะตะฝัะธัะฝัะผะธ ัะฒะตะดะพะผะปะตะฝะธัะผะธ.\n*   **ะะพะฝะธัะพัะธะฝะณ:** ะกะพะฑััะธั `OUTBID_NOTIFICATION_QUEUED`, `LOW_BID_NOTIFICATION_QUEUED` ะปะพะณะธัััััั ะฒ ะปะธัั \"ะััะฝะฐะป\".\n\n### 4.4. ะะฐะฒะตััะตะฝะธะต ะฐัะบัะธะพะฝะฐ ะธ ะพะฟัะตะดะตะปะตะฝะธะต ะฟะพะฑะตะดะธัะตะปะตะน\n\n*   **ะขัะธะณะณะตั:** `finalizeAuction()` ะทะฐะฟััะบะฐะตััั ะตะถะตะฝะตะดะตะปัะฝะพ (ะฟะพ ัะผะพะปัะฐะฝะธั: ััะฑะฑะพัะฐ ะฒ 21:00) ะฟะพ ัะฐะนะผะตัั.\n*   **ะะปะณะพัะธัะผ:**\n    1.  ะะพะปััะฐะตั ะฒัะต ะฐะบัะธะฒะฝัะต ะปะพัั ะธะท ะปะธััะฐ \"ะะพัั\" (`Config`).\n    2.  ะะปั ะบะฐะถะดะพะณะพ ะปะพัะฐ ะพะฟัะตะดะตะปัะตั ะฟะพะฑะตะดะธัะตะปั, ะฐะฝะฐะปะธะทะธััั ะปะธัั \"ะกัะฐะฒะบะธ\" (`Bids`). ะัะธ ัะฐะฒะฝัั ััะฐะฒะบะฐั ะฟะพะฑะตะถะดะฐะตั ัะฐะผะฐั ัะฐะฝะฝัั.\n    3.  ะัะปะธ ะฟะพะฑะตะดะธัะตะปั ะฝะฐะนะดะตะฝ: ะปะพั ะฟะพะผะตัะฐะตััั ะบะฐะบ `sold`, ะดะฐะฝะฝัะต ะฟะพะฑะตะดะธัะตะปั ะทะฐะฟะธััะฒะฐัััั ะฒ ะปะธัั \"ะะพะฑะตะดะธัะตะปะธ\" (`Winners`), ะพัะฟัะฐะฒะปัะตััั ัะฒะตะดะพะผะปะตะฝะธะต `winner` ะธ ะฟัะฑะปะธะบัะตััั ะบะพะผะผะตะฝัะฐัะธะน ะฟะพะด ะฟะพััะพะผ.\n    4.  ะัะปะธ ััะฐะฒะพะบ ะฝะต ะฑัะปะพ: ะปะพั ะฟะพะผะตัะฐะตััั ะบะฐะบ `unsold`, ะฟัะฑะปะธะบัะตััั ัะพะพัะฒะตัััะฒัััะธะน ะบะพะผะผะตะฝัะฐัะธะน.\n*   **ะะพะฝะธัะพัะธะฝะณ:** ะกะพะฑััะธั `AUCTION_FINALIZATION_STARTED`, `WINNER_DECLARED`, `LOT_UNSOLD` ะปะพะณะธัััััั ะฒ ะปะธัั \"ะััะฝะฐะป\".\n\n### 4.5. ะะฑัะฐะฑะพัะบะฐ ะบะพะผะฐะฝะดั ยซะะฃะะฆะะะยป ะฒ ะะก\n\n*   **ะขัะธะณะณะตั:** `message_new` ะพั VK Callback API, ะฐัะธะฝััะพะฝะฝะพ ะพะฑัะฐะฑะฐััะฒะฐะตััั `handleMessageNew()`.\n*   **ะคัะฝะบัะธะพะฝะฐะป:** ะัะปะธ ะฟะพะปัะทะพะฒะฐัะตะปั ะพัะฟัะฐะฒะปัะตั ะฑะพัั ัะพะพะฑัะตะฝะธะต ั ัะตะบััะพะผ `ะะฃะะฆะะะ`, ะฑะพั ัะพัะผะธััะตั ัะฒะพะดะบั ะฟะพ ะฒัะตะผ ะฒัะธะณัะฐะฝะฝัะผ ะธะผ ะปะพัะฐะผ, ัะฐัััะธััะฒะฐะตั ััะพะธะผะพััั ะดะพััะฐะฒะบะธ (ัะพะณะปะฐัะฝะพ `delivery_rules` ะธะท \"ะะฐัััะพะตะบ\") ะธ ะพัะฟัะฐะฒะปัะตั ัะพะพะฑัะตะฝะธะต ั ะดะตัะฐะปัะผะธ ะทะฐะบะฐะทะฐ ะธ ัะตะบะฒะธะทะธัะฐะผะธ ะดะปั ะพะฟะปะฐัั.\n\n### 4.6. ะฃะฟัะฐะฒะปะตะฝะธะต ัะตัะตะท Google ะขะฐะฑะปะธัั (UI)\n\n*   **ะะตะฝั ยซVK Auctionยป:** ะะฐััะพะผะฝะพะต ะผะตะฝั ะฒ Google ะขะฐะฑะปะธัะต ะฟัะตะดะพััะฐะฒะปัะตั ะฐะดะผะธะฝะธัััะฐัะพัะฐะผ ัะดะพะฑะฝัะน ะดะพัััะฟ ะบ ััะฝะบัะธัะผ ัะฟัะฐะฒะปะตะฝะธั:\n    *   `๐ ะะฐััะตั ะฝะฐัััะพะนะบะธ`: ะะฝะธัะธะฐะปะธะทะฐัะธั ะฒัะตั ะปะธััะพะฒ, ะทะฐะฟะพะปะฝะตะฝะธะต ะฝะฐัััะพะตะบ ะฟะพ ัะผะพะปัะฐะฝะธั, ัััะฐะฝะพะฒะบะฐ ะฑะฐะทะพะฒัั ััะธะณะณะตัะพะฒ.\n    *   `๐ ะะฐัััะพะนะบะธ ะฐะฒัะพัะธะทะฐัะธะธ`: ะะตะทะพะฟะฐัะฝะพะต ััะฐะฝะตะฝะธะต ะธ ะพะฑะฝะพะฒะปะตะฝะธะต ััะฒััะฒะธัะตะปัะฝัั ะดะฐะฝะฝัั (`VK_TOKEN`, `GROUP_ID`, `ADMIN_PASSWORD` ะธ ั.ะด.) ัะตัะตะท ะผะพะดะฐะปัะฝะพะต ะพะบะฝะพ.\n    *   `๐ ะัะบัััั ะธะฝััััะบัะธั`: ะะฝัะตัะฐะบัะธะฒะฝัะน ัะฐะนะดะฑะฐั ั ะฟะพะดัะพะฑะฝัะผ ััะบะพะฒะพะดััะฒะพะผ.\n    *   `๐๏ธ ะะธะด ัะฐะฑะปะธัั`: ะะพะดะผะตะฝั ะดะปั ัะบัััะธั/ะฟะพะบะฐะทะฐ ัะธััะตะผะฝัั ะปะธััะพะฒ (`Bids`, `EventQueue`, `NotificationQueue`, `Logs`).\n    *   `โ๏ธ ะััะฝะพะต ัะฟัะฐะฒะปะตะฝะธะต`: ะะพะดะผะตะฝั ะดะปั ะฟัะธะฝัะดะธัะตะปัะฝะพะณะพ ะทะฐะฟััะบะฐ `finalizeAuction`, `processNotificationQueue`, ะฐ ัะฐะบะถะต ัะฑัะพัะฐ/ัััะฐะฝะพะฒะบะธ ััะธะณะณะตัะพะฒ.\n    *   **`๐ค ะกะะะฃะะฏะขะะ`**: ะะพะดะผะตะฝั ะดะปั ัะฟัะฐะฒะปะตะฝะธั ะฒัััะพะตะฝะฝัะผ ัะธะผัะปััะพัะพะผ ะฐัะบัะธะพะฝะฐ.\n\n### 4.7. ะกะธะผัะปััะพั ะฐัะบัะธะพะฝะฐ (`AuctionSimulator.gs`)\n\n*   **ะฆะตะปั:** ะะตะฝะตัะฐัะธั ัะตะฐะปะธััะธัะฝัั ัะตััะพะฒัั ะฟะพััะพะฒ-ะปะพัะพะฒ ะธ ะบะพะผะผะตะฝัะฐัะธะตะฒ-ััะฐะฒะพะบ ะฒ ัะตััะพะฒัั ะณััะฟะฟั VK ะดะปั ะฒัะตััะพัะพะฝะฝะตะน ะฟัะพะฒะตัะบะธ ัะฐะฑะพัั ะฑะพัะฐ.\n*   **ะคัะฝะบัะธะธ:**\n    *   `runSingleSimulation()`: ะกะพะทะดะฐะตั ะพะดะธะฝ ะฟะพัั-ะปะพั ะฟะพ ะฟะพะดัะพะฑะฝะพะผั ัะฐะฑะปะพะฝั ะธ ะณะตะฝะตัะธััะตั ัะตัะธั ะบะพะผะผะตะฝัะฐัะธะตะฒ (ััะฐะฒะพะบ) ะฟะพะด ะฝะธะผ.\n    *   `setupHourlySimulation()`: ะฃััะฐะฝะฐะฒะปะธะฒะฐะตั ะตะถะตัะฐัะฝัะน ััะธะณะณะตั ะดะปั ะฐะฒัะพะผะฐัะธัะตัะบะพะณะพ ะทะฐะฟััะบะฐ `runSingleSimulation()` (ั ะปะธะผะธัะพะผ ะฝะฐ ะบะพะปะธัะตััะฒะพ ะฟะพััะพะฒ).\n    *   `stopSimulation()`: ะััะฐะฝะฐะฒะปะธะฒะฐะตั ะตะถะตัะฐัะฝัะน ััะธะณะณะตั.\n    *   `resetSimulationCounter()`: ะกะฑัะฐััะฒะฐะตั ััะตััะธะบ ะฟะพััะพะฒ ะดะปั ะตะถะตัะฐัะฝะพะน ัะธะผัะปััะธะธ.\n*   **ะกัะตะฝะฐัะธะธ ััะฐะฒะพะบ:** ะกะธะผัะปััะพั ะณะตะฝะตัะธััะตั ัะฐะทะปะธัะฝัะต ััะตะฝะฐัะธะธ ััะฐะฒะพะบ:\n    *   **`VALID_BID`:** ะะฐะปะธะดะฝะฐั ััะฐะฒะบะฐ, ะฟัะตะฒััะฐััะฐั ัะตะบัััั ะฝะฐ ัะฐะณ.\n    *   **`HIGH_FREQUENCY`:** ะะตัะบะพะปัะบะพ ะฑัััััั ััะฐะฒะพะบ, ะธะผะธัะธััััะธั ะธะฝัะตะฝัะธะฒะฝัะต ัะพัะณะธ.\n    *   **`SAME_BID`:** ะกัะฐะฒะบะฐ, ัะฐะฒะฝะฐั ัะตะบััะตะน (ะดะพะปะถะฝะฐ ะฑััั ะพัะบะปะพะฝะตะฝะฐ).\n    *   **`LOWER_BID`:** ะกัะฐะฒะบะฐ ะฝะธะถะต ัะตะบััะตะน (ะดะพะปะถะฝะฐ ะฑััั ะพัะบะปะพะฝะตะฝะฐ ั ัะฒะตะดะพะผะปะตะฝะธะตะผ `low_bid`).\n    *   **`INVALID_STEP`:** ะกัะฐะฒะบะฐ, ะฝะต ะบัะฐัะฝะฐั ัััะฐะฝะพะฒะปะตะฝะฝะพะผั ัะฐะณั (ะดะพะปะถะฝะฐ ะฑััั ะพัะบะปะพะฝะตะฝะฐ).\n*   **ะะฝะพะณะพะฟะพะปัะทะพะฒะฐัะตะปััะบะฐั ัะธะผัะปััะธั:** ะัะฟะพะปัะทัะตั ะผะฐััะธะฒ `SIMULATOR_SETTINGS.testUsers` ะดะปั ะธะผะธัะฐัะธะธ ััะฐะฒะพะบ ะพั ัะฐะทะฝัั `user_id`, ััะพ ะฟะพะทะฒะพะปัะตั ะฟัะพะฒะตัััั ะปะพะณะธะบั `outbid` ัะฒะตะดะพะผะปะตะฝะธะน.\n*   **ะะพะณะธัะพะฒะฐะฝะธะต:** ะัะต ะดะตะนััะฒะธั ัะธะผัะปััะพัะฐ ะฟะพะดัะพะฑะฝะพ ะปะพะณะธัััััั ะฒ ะปะธัั \"ะััะฝะฐะป\".\n\n---\n\n## 5. ะะะะะะะะซะ ะะจะะะะ ะ ะกะะะะะะกะขะ (ะะะะะะะะซ ะ ะะะจะะะะฏ)\n\n### 5.1. VK Callback API Timeout (5 ัะตะบัะฝะด)\n\n*   **ะัะพะฑะปะตะผะฐ:** VK ะพะถะธะดะฐะตั HTTP 200 `\"ok\"` ะฒ ัะตัะตะฝะธะต 5 ัะตะบัะฝะด. ะัะธ ะฟัะตะฒััะตะฝะธะธ ัะฐะนะผะฐััะฐ VK ะผะพะถะตั ะฟะพะฒัะพัะธัั ะพัะฟัะฐะฒะบั ัะพะฑััะธั, ััะพ ััะตะฒะฐัะพ ะดัะฑะปะธัะพะฒะฐะฝะธะตะผ ะธ ะฝะตััะฐะฑะธะปัะฝะพัััั.\n*   **ะะตัะตะฝะธะต:** `doPost()` (`Code.gs`) ะฝะต ะฒัะฟะพะปะฝัะตั ัะปะพะถะฝัั ะปะพะณะธะบั. ะะฝะพ ะผะณะฝะพะฒะตะฝะฝะพ ัะพััะฐะฝัะตั ัััะพะน JSON ัะพะฑััะธั ะฒ ะปะธัั \"ะัะตัะตะดั ะกะพะฑััะธะน\" (`EventQueue`) ะธ ััะฐะทั ะฒะพะทะฒัะฐัะฐะตั `\"ok\"`. ะคะฐะบัะธัะตัะบะฐั ะพะฑัะฐะฑะพัะบะฐ ัะพะฑััะธั ะฒัะฝะตัะตะฝะฐ ะฒ `processEventQueue()`, ะบะพัะพัะฐั ะทะฐะฟััะบะฐะตััั ะฟะพ ะพัะดะตะปัะฝะพะผั ััะธะณะณะตัั ะบะฐะถะดัั ะผะธะฝััั.\n\n### 5.2. Google Apps Script Quotas\n\n*   **ะัะพะฑะปะตะผะฐ:** GAS ะธะผะตะตั ะบะฒะพัั ะฝะฐ ะบะพะปะธัะตััะฒะพ ะฒัะทะพะฒะพะฒ `UrlFetchApp` (20,000/ะดะตะฝั), ะพะฑัะตะต ะฒัะตะผั ะฒัะฟะพะปะฝะตะฝะธั ัะบัะธะฟัะพะฒ (90 ะผะธะฝ/ะดะตะฝั), ะพะดะฝะพะฒัะตะผะตะฝะฝัะต ะฒัะฟะพะปะฝะตะฝะธั `doPost` (30) ะธ ั.ะด. ะัะตะฒััะตะฝะธะต ะบะฒะพั ะฟัะธะฒะพะดะธั ะบ ะพััะฐะฝะพะฒะบะต ัะบัะธะฟัะพะฒ.\n*   **ะะตัะตะฝะธะต:** ะััะธัะตะบัััะฐ ั ะฐัะธะฝััะพะฝะฝัะผะธ ะพัะตัะตะดัะผะธ (`EventQueue`, `NotificationQueue`) ะธ `LockService` ะฟะพะทะฒะพะปัะตั ัััะตะบัะธะฒะฝะพ ัะฐัะฟัะตะดะตะปััั ะฝะฐะณััะทะบั ะธ ะฒัะฟะพะปะฝััั ะพะฟะตัะฐัะธะธ ะฒ ัะฐะผะบะฐั ะบะฒะพั. ะัะพะตะบั ัะฐัััะธัะฐะฝ ะฝะฐ ะทะฐัะฒะปะตะฝะฝัั ะฝะฐะณััะทะบั ั ะฑะพะปััะธะผ ะทะฐะฟะฐัะพะผ.\n\n### 5.3. VK API Rate Limiting (3 ะทะฐะฟัะพัะฐ/ัะตะบ)\n\n*   **ะัะพะฑะปะตะผะฐ:** VK API ะพะณัะฐะฝะธัะธะฒะฐะตั ะบะพะปะธัะตััะฒะพ ะทะฐะฟัะพัะพะฒ ะฒ ัะตะบัะฝะดั (3 req/sec ะดะปั ะฑะพะปััะธะฝััะฒะฐ ะผะตัะพะดะพะฒ). ะัะตะฒััะตะฝะธะต ะปะธะผะธัะฐ ะฟัะธะฒะพะดะธั ะบ ะพัะธะฑะบะต 429 `Too Many Requests`.\n*   **ะะตัะตะฝะธะต:** ะััะพะดััะธะต ัะฒะตะดะพะผะปะตะฝะธั ะธ ะบะพะผะผะตะฝัะฐัะธะธ ะพัะฟัะฐะฒะปััััั ัะตัะตะท `NotificationQueue` (`Code.gs`, `processNotificationQueue()`). ะญัะฐ ััะฝะบัะธั ะฝะฐะผะตัะตะฝะฝะพ ะธัะฟะพะปัะทัะตั `Utilities.sleep(350);` ะผะตะถะดั ะทะฐะฟัะพัะฐะผะธ, ะพะฑะตัะฟะตัะธะฒะฐั ะฑะตะทะพะฟะฐัะฝัั ัะฐััะพัั โ2.85 ะทะฐะฟัะพัะฐ/ัะตะบ. ะ `callVk` ะฟัะตะดััะผะพััะตะฝะฐ ะฑะฐะทะพะฒะฐั ะพะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ, ะฝะพ ัะฒะฝะพะน ะปะพะณะธะบะธ `retry` ั `exponential backoff` ัะตะนัะฐั ะฝะตั (ะฟะพัะตะฝัะธะฐะปัะฝะพะต ัะปัััะตะฝะธะต).\n\n### 5.4. Race Conditions (ะกะพััะพัะฝะธั ะณะพะฝะบะธ)\n\n*   **ะัะพะฑะปะตะผะฐ:** ะัะปะธ ะดะฒะฐ ะฟะพะปัะทะพะฒะฐัะตะปั ะดะตะปะฐัั ััะฐะฒะบั ะฝะฐ ะพะดะธะฝ ะปะพั ะฟัะฐะบัะธัะตัะบะธ ะพะดะฝะพะฒัะตะผะตะฝะฝะพ, ะฑะตะท ะผะตัะฐะฝะธะทะผะพะฒ ัะธะฝััะพะฝะธะทะฐัะธะธ ะพะฑะต ััะฐะฒะบะธ ะผะพะณัั ะฑััั ะฟัะธะฝััั ะบะฐะบ ะผะฐะบัะธะผะฐะปัะฝัะต, ััะพ ะฟัะธะฒะตะดะตั ะบ ะฝะตะบะพััะตะบัะฝะพะผั ะพะฟัะตะดะตะปะตะฝะธั ะฟะพะฑะตะดะธัะตะปั.\n*   **ะะตัะตะฝะธะต:** `handleWallReplyNew()` (`Code.gs`) ะธัะฟะพะปัะทัะตั `LockService.getScriptLock().waitLock(5000);`. ะญัะพ ะณะฐัะฐะฝัะธััะตั, ััะพ ัะพะปัะบะพ ะพะดะธะฝ ัะบะทะตะผะฟะปัั ััะฝะบัะธะธ ะผะพะถะตั ะผะพะดะธัะธัะธัะพะฒะฐัั ะดะฐะฝะฝัะต ะบะพะฝะบัะตัะฝะพะณะพ ะปะพัะฐ ะฒ ะปัะฑะพะน ะผะพะผะตะฝั ะฒัะตะผะตะฝะธ. ะะฐะฝะฝัะต ะปะพัะฐ ะฟะตัะตัะธััะฒะฐัััั ะฒะฝัััะธ ะทะฐะฑะปะพะบะธัะพะฒะฐะฝะฝะพะณะพ ะฑะปะพะบะฐ ะดะปั ะพะฑะตัะฟะตัะตะฝะธั ะฐะบััะฐะปัะฝะพััะธ.\n\n### 5.5. ะะตะบะพััะตะบัะฝัะน ะฟะฐััะธะฝะณ ะฟะพััะพะฒ/ััะฐะฒะพะบ\n\n*   **ะัะพะฑะปะตะผะฐ:** ะะตะฒะฝะธะผะฐัะตะปัะฝะพััั ะฐะดะผะธะฝะธัััะฐัะพัะฐ ะฟัะธ ัะพะทะดะฐะฝะธะธ ะฟะพััะฐ ะธะปะธ ััะฐััะฝะธะบะฐ ะฟัะธ ััะฐะฒะบะต ะผะพะถะตั ะฟัะธะฒะตััะธ ะบ ัะพะผั, ััะพ ะฑะพั ะฝะต ัะผะพะถะตั ะฟัะฐะฒะธะปัะฝะพ ะธะทะฒะปะตัั `lot_id`, `start_price`, `deadline` ะธะปะธ ััะผะผั ััะฐะฒะบะธ.\n*   **ะะตัะตะฝะธะต:** ะคัะฝะบัะธะธ `parseLotFromPost()` ะธ `parseBid()` ะธัะฟะพะปัะทััั ะณะธะฑะบะธะต ัะตะณัะปััะฝัะต ะฒััะฐะถะตะฝะธั. ะัะตะดััะผะพััะตะฝั `fallback` ะทะฝะฐัะตะฝะธั ะฟะพ ัะผะพะปัะฐะฝะธั. ะกะพะฑััะธั `LOT_PARSE_FAILED` ะธ ะฝะตัะฐัะฟะพะทะฝะฐะฝะฝัะต ะบะพะผะผะตะฝัะฐัะธะธ ะปะพะณะธัััััั ะฒ ะปะธัั \"ะััะฝะฐะป\" ะดะปั ะฟะพัะปะตะดัััะตะณะพ ะฐะฝะฐะปะธะทะฐ. **ะกะธะผัะปััะพั ะณะตะฝะตัะธััะตั ัะปะพะถะฝัะต ัะตััะพะฒัะต ะฟะพััั ะธ ััะฐะฒะบะธ ะดะปั ะฟัะพะฒะตัะบะธ ะฝะฐะดะตะถะฝะพััะธ ะฟะฐััะธะฝะณะฐ.**\n\n### 5.6. ะัะฟะพะปัะทะพะฒะฐะฝะธะต ัะพะบะตะฝะพะฒ ะธ ะฑะตะทะพะฟะฐัะฝะพััั\n\n*   **ะัะพะฑะปะตะผะฐ:** ะฅัะฐะฝะตะฝะธะต ััะฒััะฒะธัะตะปัะฝัั `VK_TOKEN` ะธ `VK_SECRET` ะฝะฐะฟััะผัั ะฒ ะบะพะดะต ะธะปะธ ะฒ ะฟัะฑะปะธัะฝัั ะปะธััะฐั ัะฐะฑะปะธั ะฝะตะฑะตะทะพะฟะฐัะฝะพ.\n*   **ะะตัะตะฝะธะต:** ะัะต ััะฒััะฒะธัะตะปัะฝัะต ะดะฐะฝะฝัะต ััะฐะฝัััั ะฒ `PropertiesService` Google Apps Script, ะบะพัะพััะน ะพะฑะตัะฟะตัะธะฒะฐะตั ะฑะตะทะพะฟะฐัะฝะพะต ััะฐะฝะตะฝะธะต, ะดะพัััะฟะฝะพะต ัะพะปัะบะพ ัะบัะธะฟัั. ะะฐัััะพะนะบะฐ ััะธั ะฟะฐัะฐะผะตััะพะฒ ะพัััะตััะฒะปัะตััั ัะตัะตะท UI ะฒ Google ะขะฐะฑะปะธัะฐั (`VK Auction -> ะะฐัััะพะนะบะฐ ะฐะฒัะพัะธะทะฐัะธะธ (VK)`), ะธัะบะปััะฐั ะฟััะผะพะน ะบะพะฝัะฐะบั ั ะบะพะดะพะผ.\n\n### 5.7. ะัะพะดะปะตะฝะธะต ะฐัะบัะธะพะฝะฐ ะธ \"ัะฝะฐะนะฟะตััะบะธะต\" ััะฐะฒะบะธ\n\n*   **ะัะพะฑะปะตะผะฐ:** ะฃัะฐััะฝะธะบะธ ะผะพะณัั ะดะตะปะฐัั ััะฐะฒะบะธ ะฒ ะฟะพัะปะตะดะฝะธะต ัะตะบัะฝะดั ะฐัะบัะธะพะฝะฐ (`ัะฝะฐะนะฟะตััะบะธะต` ััะฐะฒะบะธ), ััะพ ัะฝะธะถะฐะตั ะธะฝัะตัะฐะบัะธะฒะฝะพััั ะธ ะผะพะถะตั ะฑััั ะฝะตัะฟัะฐะฒะตะดะปะธะฒะพ.\n*   **ะะตัะตะฝะธะต:** ะะตะฐะปะธะทะพะฒะฐะฝ ะผะตัะฐะฝะธะทะผ ะฟัะพะดะปะตะฝะธั ะฐัะบัะธะพะฝะฐ: ะตัะปะธ ะฒะฐะปะธะดะฝะฐั ััะฐะฒะบะฐ ัะดะตะปะฐะฝะฐ ะฒ ะฟะพัะปะตะดะฝะธะต `10` ะผะธะฝัั ะดะพ ะดะตะดะปะฐะนะฝะฐ, ะฐัะบัะธะพะฝ ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฟัะพะดะปะตะฒะฐะตััั ะฝะฐ `10` ะผะธะฝัั. ะญัะพ ะดะฐะตั ะดััะณะธะผ ััะฐััะฝะธะบะฐะผ ัะฐะฝั ะพัะฒะตัะธัั.\n\n### 5.8. ะััััััะฒะธะต ะปะพะณะธะบะธ `retry` ั `exponential backoff` ะดะปั `callVk`\n\n*   **ะัะพะฑะปะตะผะฐ:** ะ ัะตะบััะตะน ัะตะฐะปะธะทะฐัะธะธ `callVk` (`VkApi.gs`) ะฟัะธ ะพัะธะฑะบะต VK API (ะฝะฐะฟัะธะผะตั, 429 `Too Many Requests` ะธะปะธ ัะตัะตะฒะพะน ัะฑะพะน) ะทะฐะฟัะพั ะฝะต ะฟะพะฒัะพััะตััั ั ะฝะฐัะฐััะฐััะตะน ะทะฐะดะตัะถะบะพะน. `muteHttpExceptions: true` ะฟะพะทะฒะพะปัะตั ะพะฑัะฐะฑะพัะฐัั ะพัะธะฑะบั, ะฝะพ ะฝะต ะณะฐัะฐะฝัะธััะตั ะดะพััะฐะฒะบั.\n*   **ะะตัะตะฝะธะต (ะฟะพัะตะฝัะธะฐะปัะฝะพะต ัะปัััะตะฝะธะต):** ะะพะฑะฐะฒะปะตะฝะธะต ะฟะพะปะฝะพัะตะฝะฝะพะน ะปะพะณะธะบะธ `retry` ั `exponential backoff` (ะฝะฐะฟัะธะผะตั, 1 ัะตะบ, 2 ัะตะบ, 4 ัะตะบ) ะฒะฝัััะธ `callVk` ะฟะพะฒััะธั ะฝะฐะดะตะถะฝะพััั ะพัะฟัะฐะฒะบะธ ะพัะดะตะปัะฝัั ะทะฐะฟัะพัะพะฒ. ะะดะฝะฐะบะพ ะดะปั ะผะฐััะพะฒัั ัะฒะตะดะพะผะปะตะฝะธะน ััะฐ ะฟัะพะฑะปะตะผะฐ ะผะธัะธะณะธััะตััั ะพัะตัะตะดัั `NotificationQueue`.\n\n### 5.9. ะััััััะฒะธะต ะพะฑัะฐะฑะพัะบะธ `wall_reply_edit` / `wall_reply_delete`\n\n*   **ะัะพะฑะปะตะผะฐ:** ะะทะผะตะฝะตะฝะธะต ะธะปะธ ัะดะฐะปะตะฝะธะต ะบะพะผะผะตะฝัะฐัะธั ัะพ ััะฐะฒะบะพะน ะฝะต ะฟัะธะฒะพะดะธั ะบ ะฟะตัะตััะตัั ััะฐะฒะพะบ ะธะปะธ ัะดะฐะปะตะฝะธั ะทะฐะฟะธัะธ ะธะท ะปะธััะฐ \"ะกัะฐะฒะบะธ\".\n*   **ะะตัะตะฝะธะต (ะฟะพัะตะฝัะธะฐะปัะฝะพะต ัะปัััะตะฝะธะต):** ะะตะฐะปะธะทะฐัะธั ะพะฑัะฐะฑะพััะธะบะพะฒ ะดะปั ััะธั ัะพะฑััะธะน VK Callback API, ะบะพัะพััะต ะฑัะดัั ะพะฑะฝะพะฒะปััั ััะฐััั ัะพะพัะฒะตัััะฒัััะตะน ััะฐะฒะบะธ ะฒ ะปะธััะต \"ะกัะฐะฒะบะธ\" (ะฝะฐะฟัะธะผะตั, `status = 'deleted'`) ะธะปะธ ะธะฝะธัะธะธัะพะฒะฐัั ะฟะตัะตััะตั ะปะธะดะตัะฐ ะปะพัะฐ. ะขะตะบััะฐั ัะธััะตะผะฐ ัะธะบัะธััะตั ััะฐะฒะบั ะฝะฐ ะผะพะผะตะฝั ะตะต ะฟะพัััะฟะปะตะฝะธั.\n\n### 5.10. ะะดะธะฝ `testUserId` ะฒ ัะธะผัะปััะพัะต\n\n*   **ะัะพะฑะปะตะผะฐ:** ะะทะฝะฐัะฐะปัะฝะพ ัะธะผัะปััะพั ะธัะฟะพะปัะทะพะฒะฐะป ะพะดะธะฝ `testUserId` ะดะปั ะฒัะตั ััะฐะฒะพะบ, ััะพ ะฝะต ะฟะพะทะฒะพะปัะปะพ ะฟะพะปะฝะพัะตะฝะฝะพ ัะตััะธัะพะฒะฐัั ัะฒะตะดะพะผะปะตะฝะธั `outbid` ะดะปั ัะฐะทะฝัั ะฟะพะปัะทะพะฒะฐัะตะปะตะน.\n*   **ะะตัะตะฝะธะต:** `AuctionSimulator.gs` ะฑัะป ะพะฑะฝะพะฒะปะตะฝ ะดะปั ะธัะฟะพะปัะทะพะฒะฐะฝะธั ะผะฐััะธะฒะฐ `SIMULATOR_SETTINGS.testUsers`, ะธ ัะตะฟะตัั ัะปััะฐะนะฝัะน ัะตััะพะฒัะน ะฟะพะปัะทะพะฒะฐัะตะปั ะฒัะฑะธัะฐะตััั ะดะปั ะบะฐะถะดะพะน ััะฐะฒะบะธ, ััะพ ัะปัััะฐะตั ัะตะฐะปะธััะธัะฝะพััั ัะธะผัะปััะธะธ ะธ ะฟะพะบัััะธะต ัะตััะฐะผะธ.\n\n---\n\n## 6. ะะะกะจะขะะะะะฃะะะะกะขะฌ ะ ะะะะะะะะะะขะะะฌะะะกะขะฌ\n\n### 6.1. Google Apps Script Quotas (ะะะขะฃะะะฌะะ)\n\n| ะะธะผะธั                                | ะะฝะฐัะตะฝะธะต      | ะะฐัะฐ ะฝะฐะณััะทะบะฐ (ะฟัะพะณะฝะพะท)                     | ะกัะฐััั |\
| :----------------------------------- | :------------ | :------------------------------------------ | :----- |\
| **`UrlFetch calls/ะดะตะฝั`**            | 20,000        | ~500/ะดะตะฝั (4 ะฐัะบัะธะพะฝะฐ + ัะธะผัะปััะพั)          | โ 2.5% |\
| **`Script runtime (ะพะดะฝะพ ะฒัะฟะพะปะฝะตะฝะธะต)`** | 6 ะผะธะฝัั       | < 10 ัะตะบ (`doPost`), < 60 ัะตะบ (`processEventQueue`/`NotificationQueue`) | โ 1-10% |\
| **`doPost concurrent`**              | 30            | < 10 ะพะดะฝะพะฒัะตะผะตะฝะฝะพ (ะฟะธะบ)                     | โ 33% |\
| **`Total runtime/ะดะตะฝั`**             | 90 ะผะธะฝัั      | ~10 ะผะธะฝัั/ะดะตะฝั (ั ััะตัะพะผ ัะธะผัะปััะพัะฐ)        | โ 11% |\
| **`Triggers total`**                 | 20            | 4 (EventQueue, NotificationQueue, finalizeAuction, runSingleSimulation) | โ 20% |\
| **`Spreadsheet read/write`**         | ะะตะท ัะฒะฝะพะณะพ ะปะธะผะธัะฐ | ~1000/ะดะตะฝั (ั ััะตัะพะผ ัะธะผัะปััะพัะฐ)            | โ OK |\
\n**ะัะฒะพะด:** ะัะต ะปะธะผะธัั ัะพะฑะปัะดะตะฝั ั ะฑะพะปััะธะผ ะทะฐะฟะฐัะพะผ. ะกะธััะตะผะฐ ะปะตะณะบะพ ะผะฐัััะฐะฑะธััะตััั ะดะพ ~1000 ััะฐะฒะพะบ ะฒ ะดะตะฝั ะฑะตะท ะดะพััะธะถะตะฝะธั ะบะฒะพั. ะะปั ัััะตััะฒะตะฝะฝะพะณะพ ัะฒะตะปะธัะตะฝะธั ะฝะฐะณััะทะบะธ ะฟะพััะตะฑัะตััั ะพะฟัะธะผะธะทะฐัะธั ะทะฐะฟัะพัะพะฒ ะบ ัะฐะฑะปะธัะฐะผ (ะฝะฐะฟัะธะผะตั, ะบะตัะธัะพะฒะฐะฝะธะต `getSheetData`).\n\n### 6.2. ะัะพะธะทะฒะพะดะธัะตะปัะฝะพััั (ะะะขะฃะะะฌะะ)\n\n| ะะตััะธะบะฐ               | ะขัะตะฑะพะฒะฐะฝะธะต        | ะะฑะพัะฝะพะฒะฐะฝะธะต                                                  |\
| :-------------------- | :---------------- | :----------------------------------------------------------- |\
| **ะัะฒะตั VK Callback** | < 2 ัะตะบัะฝะดั       | VK ะปะธะผะธั 5 ัะตะบ, ะทะฐะฟะฐั ร2.5 ะทะฐ ััะตั ะฐัะธะฝััะพะฝะฝะพะน ะพัะตัะตะดะธ `EventQueue` |\
| **ะะฑัะฐะฑะพัะบะฐ ััะฐะฒะบะธ**  | < 1.5 ัะตะบัะฝะดั     | `LockService` + ะทะฐะฟะธัั ะฒ Sheets (`EventQueue` -> `handleWallReplyNew`) |\
| **ะะฐะดะตัะถะบะฐ ัะฒะตะดะพะผะปะตะฝะธั** | 1-3 ะผะธะฝััั      | ะัะธะฝััะพะฝะฝะฐั ะพัะตัะตะดั `NotificationQueue`, ะพะฑัะฐะฑะพัะบะฐ ะบะฐะถะดัั ะผะธะฝััั, ะดะตะฑะพะฝั |\
| **ะะฐะฒะตััะตะฝะธะต ะฐัะบัะธะพะฝะฐ** | < 5 ะผะธะฝัั ะฝะฐ 15 ะปะพัะพะฒ | ะะฟัะตะดะตะปะตะฝะธะต ะฟะพะฑะตะดะธัะตะปะตะน + ัะฒะตะดะพะผะปะตะฝะธั.                     |\
| **VK API Rate Limit** | โค 2.85 ะทะฐะฟัะพัะฐ/ัะตะบัะฝะดั | VK ะปะธะผะธั 3/ัะตะบ, ะฑะตะทะพะฟะฐัะฝัะน ะทะฐะฟะฐั ะฟัะธ ะพัะฟัะฐะฒะบะต ัะฒะตะดะพะผะปะตะฝะธะน.   |\
| **Concurrent ััะฐะฒะพะบ** | ะะพ 30 ะพะดะฝะพะฒัะตะผะตะฝะฝะพ | GAS ะปะธะผะธั 30 `doPost` concurrent.                            |\
\n---\n\n## 7. ะะะะะะะกะะะกะขะฌ\n\n### 7.1. ะฅัะฐะฝะตะฝะธะต ััะฒััะฒะธัะตะปัะฝัั ะดะฐะฝะฝัั\n\n*   **`PropertiesService`:** `VK_TOKEN`, `VK_SECRET`, `ADMIN_PASSWORD` ััะฐะฝัััั ะทะดะตัั. ะญัะพ ัะตะบะพะผะตะฝะดัะตะผัะน ัะฟะพัะพะฑ Google ะดะปั ััะฐะฝะตะฝะธั ะบะพะฝัะธะดะตะฝัะธะฐะปัะฝัั ะดะฐะฝะฝัั ะฒ Apps Script, ะพะฝะธ ะฝะตะดะพัััะฟะฝั ะฝะฐะฟััะผัั ะธะท ะบะพะดะฐ ะธะปะธ ะปะพะณะพะฒ.\n*   **Google Sheets:** ะ ัะฐะฑะปะธัะฐั ะฝะต ััะฐะฝัััั ะฟะตััะพะฝะฐะปัะฝัะต ะดะฐะฝะฝัะต (`ะคะะ`, `ัะตะปะตัะพะฝั`, `ะฐะดัะตัะฐ`) ััะฐััะฝะธะบะพะฒ. ะฅัะฐะฝัััั ัะพะปัะบะพ `user_id` VK, `bid_amount`, `timestamp` ะธ `comment_id`, ััะพ ัะพะพัะฒะตัััะฒัะตั ะผะธะฝะธะผะฐะปัะฝัะผ ััะตะฑะพะฒะฐะฝะธัะผ ะดะปั ัะฐะฑะพัั ะฐัะบัะธะพะฝะฐ.\n*   **`ADMIN_PASSWORD`:** ะัะฟะพะปัะทัะตััั ะดะปั ะทะฐัะธัั ะดะพัััะฟะฐ ะบ `ะะฐัััะพะนะบะฐะผ ะฐะฒัะพัะธะทะฐัะธะธ`. ะะพัะปะต 5 ะฝะตัะดะฐัะฝัั ะฟะพะฟััะพะบ ะดะพัััะฟะฐ ะฑะปะพะบะธััะตััั ะฝะฐ 6 ัะฐัะพะฒ.\n\n### 7.2. ะกะพะพัะฒะตัััะฒะธะต ะคะ-152 (ัะฐััะธัะฝะพะต)\n\nะกะธััะตะผะฐ ัััะตะผะธััั ะผะธะฝะธะผะธะทะธัะพะฒะฐัั ัะฑะพั ะธ ััะฐะฝะตะฝะธะต ะฟะตััะพะฝะฐะปัะฝัั ะดะฐะฝะฝัั. `user_id` ััะธัะฐะตััั ัะตัะฝะธัะตัะบะธะผ ะธะดะตะฝัะธัะธะบะฐัะพัะพะผ, ะฐ ะฝะต ะฟะตััะพะฝะฐะปัะฝัะผะธ ะดะฐะฝะฝัะผะธ, ะฟะพะบะฐ ะฝะต ัะฒัะทัะฒะฐะตััั ั ะคะะ. ะคะะ ะฟะพะปัะทะพะฒะฐัะตะปะตะน ะทะฐะฟัะฐัะธะฒะฐัััั ะธะท VK API ะดะธะฝะฐะผะธัะตัะบะธ ัะพะปัะบะพ ะดะปั ัะพัะผะธัะพะฒะฐะฝะธั ะพััะตัะพะฒ ะธ ะฝะต ัะพััะฐะฝััััั ะฒ ัะฐะฑะปะธัะฐั.\n\n**ะะตะบะพะผะตะฝะดัะตะผะฐั ะะพะปะธัะธะบะฐ ะบะพะฝัะธะดะตะฝัะธะฐะปัะฝะพััะธ (ะดะปั ัะพะพะฑัะตััะฒะฐ):**\n```\nะัะธ ััะฐััะธะธ ะฒ ะฐัะบัะธะพะฝะต ะพะฑัะฐะฑะฐััะฒะฐัััั: ัะตัะฝะธัะตัะบะธะน ID VK, ััะผะผั ััะฐะฒะพะบ, timestamp.\\nะะ ััะฐะฝะธะผ: ะคะะ, ัะตะปะตัะพะฝั, email, ะฐะดัะตัะฐ ะฝะฐ ัะตัะฒะตัะฐั.\\nะัะฝะพะฒะฐะฝะธะต: ะธัะฟะพะปะฝะตะฝะธะต ะดะพะณะพะฒะพัะฐ (ั. 5 ัั. 6 ะคะ-152).\\nะฃะดะฐะปะตะฝะธะต ะดะฐะฝะฝัั: ะฝะฐะฟะธัะฐัั \\\"ะฃะะะะะขะฌ ะะะ ะะะะะซะ\\\" ะฒ ะะก (ะพะฑัะฐะฑะพัะบะฐ ะฒ ัะตัะตะฝะธะต 3 ะดะฝะตะน, ัะดะฐะปััััั ะทะฐะฟะธัะธ ะธะท ะปะธััะพะฒ \\\"ะกัะฐะฒะบะธ\\\" ะธ \\\"ะะพะฑะตะดะธัะตะปะธ\\\").\n```\n\n---\n\n## 8. ะะะะะะะขะซะะะะะ ะ ะะะกะะฃะะะะะะะ\n\n### 8.1. ะงะตะบะปะธัั ัะฐะทะฒะตัััะฒะฐะฝะธั (ะะะขะฃะะะฌะะ)

**ะะปั ััะพะณะพ ะฟัะพะตะบัะฐ ะธัะฟะพะปัะทัะตััั ะคะะะกะะะะะะะะซะ ID ัะฐะทะฒะตัััะฒะฐะฝะธั:**
- **Deployment ID**: `AKfycbz5QY9W2VUdF_xdafv_DH6yDpdPEN1zsEUF6wSEqOQvwueBgMWWAsze4fmNRFEJkryY`
- **Web App URL**: `https://script.google.com/macros/s/AKfycbz5QY9W2VUdF_xdafv_DH6yDpdPEN1zsEUF6wSEqOQvwueBgMWWAsze4fmNRFEJkryY/exec`

**ะจะฐะณ 1: ะกะพะทะดะฐะฝะธะต Google ะขะฐะฑะปะธัั ะธ ะฟัะพะตะบัะฐ Apps Script:**
1.  ะกะพะทะดะฐัั ะฝะพะฒัั Google ะขะฐะฑะปะธัั.
2.  ะะตัะตะนัะธ ะฒ ะผะตะฝั **ะะฐััะธัะตะฝะธั** โ **Apps Script**.
3.  ะกะบะพะฟะธัะพะฒะฐัั ัะพะดะตัะถะธะผะพะต ัะปะตะดัััะธั ัะฐะนะปะพะฒ ะฒ ัะพะพัะฒะตัััะฒัััะธะต ัะฐะนะปั ัะบัะธะฟัะฐ:
    *   `Code.gs`, `Sheets.gs`, `VkApi.gs`, `Monitoring.gs`, `AuctionSimulator.gs`, `appsscript.json`.
4.  ะ Google Sheets ะพัะบัััั ะผะตะฝั **VK Auction** -> **ะะฐััะตั ะฝะฐัััะพะนะบะธ** ะดะปั ัะพะทะดะฐะฝะธั ะฒัะตั ะฝะตะพะฑัะพะดะธะผัั ะปะธััะพะฒ ะธ ัััะฐะฝะพะฒะบะธ ะฝะฐัะฐะปัะฝัั ะฝะฐัััะพะตะบ.

**ะจะฐะณ 2: ะะฐัััะพะนะบะฐ VK Callback API:**
1.  ะะตัะตะนัะธ ะฒ ะฝะฐัััะพะนะบะธ ะฒะฐัะตะณะพ ัะพะพะฑัะตััะฒะฐ ะะะพะฝัะฐะบัะต.
2.  ะัะฑัะฐัั ัะฐะทะดะตะป **ะะฐะฑะพัะฐ ั API** โ **Callback API**.
3.  ะกะพะทะดะฐัั ะฝะพะฒัะน Callback API ัะตัะฒะตั.
4.  URL ัะตัะฒะตัะฐ: `https://script.google.com/macros/s/AKfycbz5QY9W2VUdF_xdafv_DH6yDpdPEN1zsEUF6wSEqOQvwueBgMWWAsze4fmNRFEJkryY/exec`
5.  ะะตััะธั API: 5.131 (ะธะปะธ ะฒััะต).
6.  ะะบะปััะธัั ัะปะตะดัััะธะต ัะธะฟั ัะพะฑััะธะน: `wall_post_new`, `wall_reply_new`, `message_new`.
7.  ะกะพััะฐะฝะธัั **Secret key** ะธ **Confirmation string**.

**ะจะฐะณ 3: ะัะฑะปะธะบะฐัะธั ะฒะตะฑ-ะฟัะธะปะพะถะตะฝะธั (Deploy Web App):**
1.  ะ ัะตะดะฐะบัะพัะต Apps Script ะฝะฐะถะฐัั **Deploy** โ **Manage deployments**.
2.  ะัะฑะตัะธัะต ัะฐะทะฒะตัััะฒะฐะฝะธะต ั ID `AKfycbz5QY9W2VUdF_xdafv_DH6yDpdPEN1zsEUF6wSEqOQvwueBgMWWAsze4fmNRFEJkryY`.
3.  ะะฐะถะผะธัะต ะธะบะพะฝะบั ะบะฐัะฐะฝะดะฐัะฐ โ๏ธ (Edit).
4.  ะัะฑะตัะธัะต **New version**.
5.  ะะฐะถะผะธัะต **Deploy**.

**ะะะะะ**: ะัะธ ะธัะฟะพะปัะทะพะฒะฐะฝะธะธ `clasp` ะฒัะตะณะดะฐ ัะบะฐะทัะฒะฐะนัะต ััะพั ID:
```bash
npx clasp deploy -i AKfycbz5QY9W2VUdF_xdafv_DH6yDpdPEN1zsEUF6wSEqOQvwueBgMWWAsze4fmNRFEJkryY
```\n    *   ะ Google Sheets ะพัะบัััั ะผะตะฝั **VK Auction**.\n    *   ะัะฑัะฐัั **ะะฐัััะพะนะบะฐ ะฐะฒัะพัะธะทะฐัะธะธ (VK)**.\n    *   ะะฒะตััะธ ะฝะตะพะฑัะพะดะธะผัะต ะฟะฐัะฐะผะตััั: `VK_TOKEN`, `GROUP_ID`, `CONFIRMATION_CODE`, `VK_SECRET`, `PAYMENT_PHONE`, `PAYMENT_BANK`, `ADMIN_PASSWORD` (ะฟะพ ะถะตะปะฐะฝะธั). ะญัะธ ะดะฐะฝะฝัะต ัะพััะฐะฝััััั ะฒ `PropertiesService`.\n    *   ะ ะปะธััะต **ะะฐัััะพะนะบะธ** (`Settings`) ะทะฐะฟะพะปะฝะธัั ะพะฑัะธะต ะฟะฐัะฐะผะตััั (`max_bid`, `bid_step`, `delivery_rules` ะธ ั.ะด.).\n5.  **ะัะพะฒะตัะบะฐ ะธ ะฐะบัะธะฒะฐัะธั ััะธะณะณะตัะพะฒ:**\n    *   ะฃะฑะตะดะธัััั, ััะพ ะฐะบัะธะฒะฝั ัะปะตะดัััะธะต ััะธะณะณะตัั (ัะตัะตะท **ะะฐััะธัะตะฝะธั** โ **Apps Script** โ **ะขัะธะณะณะตัั**):\n        *   `processEventQueue()` โ Time-based, Every minute.\n        *   `processNotificationQueue()` โ Time-based, Every minute.\n        *   `finalizeAuction()` โ Time-based, Every week Saturday 21:00.\n        *   `runSingleSimulation()` โ Time-based, Every hour (ะตัะปะธ ะฒะบะปััะตะฝะฐ ะตะถะตัะฐัะฝะฐั ัะธะผัะปััะธั ัะตัะตะท ะผะตะฝั).\n\n### 8.2. ะขะตััะธัะพะฒะฐะฝะธะต ั ัะธะผัะปััะพัะพะผ\n\n1.  ะัะฟะพะปัะทัะนัะต ะผะตะฝั **VK Auction โ ะกะะะฃะะฏะขะะ โ ะะฐะฟัััะธัั ะพะดะธะฝ ัะธะบะป ัะธะผัะปััะธะธ**.\n2.  ะัะพะฒะตัััะต ะฒ VK, ััะพ ะพะฟัะฑะปะธะบะพะฒะฐะฝ ัะตััะพะฒัะน ะฟะพัั-ะปะพั.\n3.  ะะฐะฑะปัะดะฐะนัะต ะทะฐ ะบะพะผะผะตะฝัะฐัะธัะผะธ ะฟะพะด ะฟะพััะพะผ (ะธะผะธัะฐัะธั ััะฐะฒะพะบ) ะธ ะทะฐ ะฟะพะปััะตะฝะธะตะผ ะะก ะพั ะฑะพัะฐ.\n4.  ะัะพะฒะตัััะต ะปะธััั **\"ะะพัั\"**, **\"ะกัะฐะฒะบะธ\"**, **\"ะัะตัะตะดั\"** ะฝะฐ ะบะพััะตะบัะฝะพััั ะทะฐะฟะธัะธ ะดะฐะฝะฝัั ะธ ะฟะพััะฐะฝะพะฒะบะธ ัะฒะตะดะพะผะปะตะฝะธะน ะฒ ะพัะตัะตะดั.\n5.  ะะฐะฟัััะธัะต `finalizeAuction()` ะฒัััะฝัั ัะตัะตะท ะผะตะฝั **VK Auction โ ะััะฝะพะต ัะฟัะฐะฒะปะตะฝะธะต โ ะะฐะฒะตััะธัั ะฐัะบัะธะพะฝ**.\n6.  ะัะพะฒะตัััะต ะปะธััั **\"ะะพะฑะตะดะธัะตะปะธ\"** ะธ ะบะพะผะผะตะฝัะฐัะธะธ ะฟะพะด ะฟะพััะฐะผะธ ะฝะฐ ะบะพััะตะบัะฝะพััั ะพะฟัะตะดะตะปะตะฝะธั ะฟะพะฑะตะดะธัะตะปั.\n\n### 8.3. ะะฑัะปัะถะธะฒะฐะฝะธะต ะธ ะพัะปะฐะดะบะฐ\n\n*   **ะะพะฝะธัะพัะธะฝะณ ะปะพะณะพะฒ:** ะะตะณัะปััะฝะพ ะฟัะพะฒะตััะนัะต ะปะธัั **\"ะััะฝะฐะป\" (`Logs`)** ะธ ะฒัััะพะตะฝะฝัะน ะปะพะณะณะตั Apps Script (Logs ะฒ ัะตะดะฐะบัะพัะต ัะบัะธะฟัะพะฒ) ะฝะฐ ะฟัะตะดะผะตั ะพัะธะฑะพะบ ะธ ะฟัะตะดัะฟัะตะถะดะตะฝะธะน.\n*   **ะกะธะผัะปััะพั:** ะัะฟะพะปัะทัะนัะต `AuctionSimulator.gs` ะดะปั ะฒะพัะฟัะพะธะทะฒะตะดะตะฝะธั ัะฟะตัะธัะธัะตัะบะธั ััะตะฝะฐัะธะตะฒ ะธะปะธ ะฑััััะพะน ะฟัะพะฒะตัะบะธ ะธะทะผะตะฝะตะฝะธะน.\n*   **ะัะพะฒะตัะบะฐ ัะพะตะดะธะฝะตะฝะธั:** ะะตะฝั **VK Auction -> ะัะพะฒะตัะธัั ัะพะตะดะธะฝะตะฝะธะต** ะดะปั ะดะธะฐะณะฝะพััะธะบะธ ะฟัะพะฑะปะตะผ ั VK API.\n\n---\n\n## 9. ะะะะฌะะะะจะะ ะะะะะะขะะ (ะะะขะะะฆะะะะฌะะซะ ะฃะะฃะงะจะะะะฏ)\n\n| ะคัะฝะบัะธั                   | ะะฟะธัะฐะฝะธะต                                                                  | ะกะปะพะถะฝะพััั    | ะัะตะฝะบะฐ ะฒัะตะผะตะฝะธ |\
| :------------------------ | :------------------------------------------------------------------------ | :----------- | :------------- |\
| **ะะฒัะพะฝะฐะฟะพะผะธะฝะฐะฝะธั**       | ะงะตัะตะท N ะดะฝะตะน ะฟะพัะปะต ะฐัะบัะธะพะฝะฐ ะฑะพั ะฟะธัะตั ะฝะต ะพัะพัะผะธะฒัะธะผ ะทะฐะบะฐะท.                 | ะกัะตะดะฝัั      | +4 ัะฐัะฐ        |\
| **ะะฝะพะถะตััะฒะตะฝะฝัะต ะณััะฟะฟั**  | ะะพะดะดะตัะถะบะฐ ะฝะตัะบะพะปัะบะธั ะณััะฟะฟ ะฒ ะพะดะฝะพะน ัะฐะฑะปะธัะต (ัะปะพะถะฝะฐั ะผะพะดะธัะธะบะฐัะธั ะปะพะณะธะบะธ ัะฐะฑะพัั ั ะปะธััะฐะผะธ). | ะััะพะบะฐั      | +20 ัะฐัะพะฒ      |\
| **CRM ะธะฝัะตะณัะฐัะธั**        | ะัะณััะทะบะฐ ะฟะพะฑะตะดะธัะตะปะตะน ะฒ ะะธััะธะบั24/amoCRM (ัะตัะตะท API).                      | ะััะพะบะฐั      | +15 ัะฐัะพะฒ      |\
| **ะะตะฑ-ะฐะดะผะธะฝะบะฐ**           | ะัะฐัะธะฒะฐั ะฟะฐะฝะตะปั ัะฟัะฐะฒะปะตะฝะธั ะฒะผะตััะพ Sheets (ั ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ GAS Web App + HTML/CSS/JS). | ะัะตะฝั ะฒััะพะบะฐั | +40 ัะฐัะพะฒ      |\
| **ะะฝะปะฐะนะฝ-ัะบะฒะฐะนัะธะฝะณ**      | ะะฝัะตะณัะฐัะธั ั ะฟะปะฐัะตะถะฝัะผะธ ัะธััะตะผะฐะผะธ (ะฎKassa/Robokassa).                    | ะัะตะฝั ะฒััะพะบะฐั | +30 ัะฐัะพะฒ      |\
| **ะัะพะฒะตัะบะฐ ะฟะพะดะฟะธัะบะธ**     | ะัะบะปะพะฝะตะฝะธะต ััะฐะฒะพะบ ะพั ะฟะพะปัะทะพะฒะฐัะตะปะตะน, ะฝะต ัะฒะปัััะธััั ะฟะพะดะฟะธััะธะบะฐะผะธ ะณััะฟะฟั.     | ะะธะทะบะฐั       | +2 ัะฐัะฐ        |\
| **ะะตะดะฐะบัะธัะพะฒะฐะฝะธะต/ัะดะฐะปะตะฝะธะต ััะฐะฒะพะบ** | ะะฑัะฐะฑะพัะบะฐ `wall_reply_edit` / `wall_reply_delete` ะดะปั ะธะทะผะตะฝะตะฝะธั ะธะปะธ ะพัะผะตะฝั ััะฐะฒะพะบ ะฒ ะปะธััะต \"ะกัะฐะฒะบะธ\". | ะกัะตะดะฝัั      | +8 ัะฐัะพะฒ       |\
| **ะฃะปัััะตะฝะฝะฐั ะพะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ `callVk`** | ะะพะฑะฐะฒะปะตะฝะธะต `retry` ั `exponential backoff` ะดะปั ะฟะพะฒััะตะฝะธั ะฝะฐะดะตะถะฝะพััะธ ะทะฐะฟัะพัะพะฒ ะบ VK API. | ะกัะตะดะฝัั      | +4 ัะฐัะฐ        |\
\n---\n\n## 10. ะคะะะะซ ะะะะะะขะ\n\n```\nproject/\nโโโ Code.gs              # ะัะฝะพะฒะฝะฐั ะปะพะณะธะบะฐ ะฑะพัะฐ: `doPost()`, ะพะฑัะฐะฑะพััะธะบะธ ัะพะฑััะธะน, `finalizeAuction()`, ััะฝะบัะธะธ UI.\nโโโ Sheets.gs            # ะะธะฑะปะธะพัะตะบะฐ ะดะปั ัะฐะฑะพัั ั Google Sheets: ะบะพะฝัะธะณััะฐัะธั ะปะธััะพะฒ, `getSheet()`, `appendRow()`, `updateRow()`, ะปะพะณะธัะพะฒะฐะฝะธะต ะฒ `ะััะฝะฐะป`.\nโโโ VkApi.gs             # ะะฑะพะปะพัะบะฐ ะดะปั ะฒะทะฐะธะผะพะดะตะนััะฒะธั ั VK API: `callVk()` ั ะพะฑัะฐะฑะพัะบะพะน ัะพะบะตะฝะพะฒ ะธ ะพัะธะฑะพะบ.\nโโโ Monitoring.gs        # ะฆะตะฝััะฐะปะธะทะพะฒะฐะฝะฝะพะต ะปะพะณะธัะพะฒะฐะฝะธะต ะฒ ะััะฝะฐะป.\nโโโ AuctionSimulator.gs  # ะะพะดัะปั ัะธะผัะปััะพัะฐ ะฐัะบัะธะพะฝะฐ: ะณะตะฝะตัะฐัะธั ัะตััะพะฒัั ะฟะพััะพะฒ ะธ ััะฐะฒะพะบ ะฒ VK.\nโโโ appsscript.json      # ะะฐะฝะธัะตัั ะฟัะพะตะบัะฐ Google Apps Script (ะพะฟัะตะดะตะปัะตั ัะฐะทัะตัะตะฝะธั, ััะธะณะณะตัั, HTML-ัะฐะนะปั).\nโโโ AuthSettings.html    # HTML-ัะฐะนะป ะดะปั UI ะฝะฐัััะพะนะบะธ ะฐะฒัะพัะธะทะฐัะธะธ.\nโโโ Instructions.html    # HTML-ัะฐะนะป ะดะปั UI ะพัะพะฑัะฐะถะตะฝะธั ะธะฝััััะบัะธะธ.\nโโโ Login.html           # HTML-ัะฐะนะป ะดะปั UI ะฒัะพะดะฐ ั ะฟะฐัะพะปะตะผ ะฐะดะผะธะฝะธัััะฐัะพัะฐ.\nโโโ CHANGELOG.md         # ะััะฝะฐะป ะธะทะผะตะฝะตะฝะธะน ะฟัะพะตะบัะฐ.\nโโโ README.md            # ะัะฐัะบะพะต ะพะฟะธัะฐะฝะธะต ะฟัะพะตะบัะฐ ะธ ะธะฝััััะบัะธะธ ะฟะพ ัััะฐะฝะพะฒะบะต.\nโโโ vk-auction-tech-spec-v2.md # ะขะตัะฝะธัะตัะบะฐั ัะฟะตัะธัะธะบะฐัะธั ะฟัะพะตะบัะฐ (ะฑะพะปะตะต ะบัะฐัะบะฐั ะฒะตััะธั).\nโโโ FULL_PROJECT_SPEC.md # ะะพะปะฝะฐั ัะตัะฝะธัะตัะบะฐั ัะฟะตัะธัะธะบะฐัะธั ะฟัะพะตะบัะฐ (ะดะฐะฝะฝัะน ะดะพะบัะผะตะฝั).\n```\n\n---\n\n**ะะพะฝะตั ะฟะพะปะฝะพะน ัะตัะฝะธัะตัะบะพะน ัะฟะตัะธัะธะบะฐัะธะธ**\n\n_ะะตััะธั 2.2 ะพั 10.02.2026_\n_ะัะฒะฐััะฒะฐะตั: ะััะธัะตะบัััั, ะผะพะดัะปัะฝะพััั, ะฐัะธะฝััะพะฝะฝัั ะพะฑัะฐะฑะพัะบั, `LockService`, `Rate Limiting`, `max_bid`, ะฟัะพะดะปะตะฝะธะต ะฐัะบัะธะพะฝะฐ, ะฟะพะปะฝัะน ะถััะฝะฐะป ััะฐะฒะพะบ, ัะฒะตะดะพะผะปะตะฝะธั ะพ ะฝะธะทะบะธั ััะฐะฒะบะฐั, `AuctionSimulator`, ะปัััะธะต ะฟัะฐะบัะธะบะธ, ะฒะพะทะผะพะถะฝัะต ัะปะพะถะฝะพััะธ ะธ ะดะฐะปัะฝะตะนัะตะต ัะฐะทะฒะธัะธะต._
